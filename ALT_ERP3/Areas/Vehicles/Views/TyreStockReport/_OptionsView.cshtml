@model ALT_ERP3.Areas.Vehicles.Models.TyreStockReportVM

<style>
    .ModalLabel {
        font-weight: bold !important;
        color: black !important;
        padding: 3px !important;
    }

    .td1 {
        width: 500px !important;
    }

    .td2 {
        width: 500px !important;
    }

    .td3 {
        width: 500px !important;
    }

</style>

<script src="@Url.Content("~/Content/js/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/js/jquery.constrain.js")" type="text/javascript"></script>
<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" />
<script src="~/Content/bootstrap-multiselect.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#txtReportName").val("");
        if ('@Model.ReportName' != "") {
            $("#txtReportName").val('@Model.ReportName');
        }

        if ('@Model.StockAt' != "") {
            $("#StockAtL").val('@Model.StockAt');
        }




        $('#Vehicle').val('');
        var CommonValue = "";
        if ('@Model.Vehicle' != "") {
            $.each('@Model.Vehicle'.split(','), function (idx, val) {
                $(".VehicleL option[value='" + val + "']").attr("selected", true);
                CommonValue += "'" + val + "',";
            });
            CommonValue = CommonValue.toString().substring(0, CommonValue.length - 1);
            $('#Vehicle').val(CommonValue);
        }
        //else
        //{
        //    $('.VehicleL option').each(function (index) {
        //        debugger;
        //        $(this).attr("selected", true);
        //        CommonValue += "'" + $(this).val() + "',";
        //    });
        //    CommonValue = CommonValue.toString().substring(0, CommonValue.length - 1);
        //    $('#Vehicle').val(CommonValue);
        //}

        $('#StockSerial').val('');
        var CommonValue = "";
        if ('@Model.StockSerial' != "") {
            $.each('@Model.StockSerial'.split(','), function (idx, val) {
                $(".StockSerialL option[value='" + val + "']").attr("selected", true);
                CommonValue += "'" + val + "',";
            });
            CommonValue = CommonValue.toString().substring(0, CommonValue.length - 1);
            $('#StockSerial').val(CommonValue);
        }
        //else
        //{
        //    $('.StockSerialL option').each(function (index) {
        //        debugger;
        //        $(this).attr("selected", true);
        //        CommonValue += "'" + $(this).val() + "',";
        //    });
        //    CommonValue = CommonValue.toString().substring(0, CommonValue.length - 1);
        //    $('#StockSerial').val(CommonValue);
        //}
        $('.VehicleL,.StockSerialL').multiselect({
            includeSelectAllOption: true,
            enableFiltering: true,
            enableCaseInsensitiveFiltering: true,
            filterPlaceholder: 'Search for something...',
            buttonWidth: '235',
            numberDisplayed: 1,
            nonSelectedText: 'Select Item',
        });
        $(".VehicleL").change(function () {
            debugger;
            $('#Vehicle').val('');
            var selected = "";
            $(".VehicleL :selected").each(function () {
                selected += ("'" + $(this).val() + "',");
            });
            selected = selected.toString().substring(0, selected.length - 1);
            $('#Vehicle').val(selected)
            return false;
        });
        $(".StockSerialL").change(function () {

            $('#StockSerial').val('');
            var selected = "";
            $(".StockSerialL :selected").each(function () {
                selected += ("'" + $(this).val() + "',");
            });
            selected = selected.toString().substring(0, selected.length - 1);
            $('#StockSerial').val(selected)
            return false;
        });

        $('#SubmitSaveReport').click(function (event) {
            event.preventDefault();
            $('#SaveReportName').modal('show');
        });
    });
</script>

<table class="table table-striped table-bordered">
    <thead>
    </thead>
    <tbody>
        <tr>
            <td class="td1">
                <label class=" ModalLabel  control-label" style="width:auto;">Stock Type :</label>
                @Html.DropDownListFor(x => x.StockAtL, Model.StockList, new { @class = "form-control StockAtL", @style = "float: right;width:auto;display: inline-table;" })

            </td>
            <td class="td2">
                <label class=" ModalLabel  control-label" style="width:auto;">Vehicles List :</label>
                @Html.ListBoxFor(x => x.VehicleL, Model.VehicleList, new { @class = "VehicleL", @id = "VehicleL" })
            </td>
            <td class="td3">
                <label class=" ModalLabel  control-label" style="width:auto;">Serial List :</label>
                @Html.ListBoxFor(x => x.StockSerialL, Model.StockSerialList, new { @class = "StockSerialL", @id = "StockSerialL" })
            </td>
        </tr>
    </tbody>
</table>
