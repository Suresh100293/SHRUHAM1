
@model ALT_ERP3.Areas.Logistics.Models.AttachmentVM

<style>
    #HideImg2 {
        visibility: hidden;
        display: none;
        /*position: fixed;*/
        top: 25px;
        left: 0px;
        right: 0px;
        box-shadow: 0px 0px 20px 0px black;
        width: 100%;
        height: 400px;
        margin: 0%;
        padding: 7px;
        background-color: white;
    }

    /*#close_image2 {
        width: 24px;
        height: 22px;
        visibility: hidden;
        display: none;
        position: absolute;
    }

    #close_image2 {
        top: 5.9%;
        left: 830px;
        background-color: red;
        color: white;
    }*/
</style>

<script type="text/javascript">
    $(document).ready(function () {

        //$("#close_image2").click(function () {
        //    close1();
        //});
    });
    function big_image1(src, index) {
        debugger;
        $("#HideImg2").fadeIn(1000);
        $('#HideImg2').attr('src', src);
        visibility1();
        document.getElementById("img_no2").value = index;
    }
    function visibility1() {
        $('#ImgView3').modal('show');
        document.getElementById("HideImg2").style.visibility = "visible";
        document.getElementById("HideImg2").style.display = "block";
        //document.getElementById("close_image2").style.visibility = "visible";
        //document.getElementById("close_image2").style.display = "block";
        //var Left = $("#HideImg2").width() + 20;
        //$("#close_image2").attr('left', Left);
    }
    //function close1() {
    //    $('#HideImg2').fadeOut(300, function () {
    //        document.getElementById("HideImg2").style.visibility = "hidden";
    //        document.getElementById("HideImg2").style.display = "none";
    //        document.getElementById("close_image2").style.visibility = "hidden";
    //        document.getElementById("close_image2").style.display = "none";
    //    });
    //}

</script>

<table class="zui-tableww" id="" style="width:100%;">
    <thead>
        <tr>
            <th style="width:30%;">Name</th>
            <th style="width:25%;">Image</th>
            <th style="width:25%;">Download</th>
            <th style="width:20%;">Attach Reference</th>
        </tr>
    </thead>
    <tbody>

        @if (Model.AllDocumentList != null)
        {
            foreach (var fName in Model.AllDocumentList)
            {

                <tr>

                    <td>@fName.FileName</td>
                    <td>
                        @{
                            string imageSrc = string.Format("data:image/gif;base64,{0}", fName.ImageStr);
                            <a class="btnShow" id="@fName.tempId"><img src="@imageSrc" alt=@fName.FileName class="img-thumbnail" onclick="big_image1(this.src,4)" style="height:50px;width:100px;" /></a>
                        }
                    </td>
                    <td>
                        @Html.ActionLink("Download", "Download1", new { Area = "Logistics", Controller = "Attachment", FileName = fName.FileName }, new { @Class = "sc_button sc_button_round sc_button_small", @tooltip = "Add", @action = "Download" })
                    </td>
                    <td hidden="hidden">
                        @fName.ImageStr
                    </td>
                    <td hidden="hidden">
                        @fName.tempId
                    </td>
                    <td>
                        @fName.Type
                    </td>

                </tr>
            }
        }
    </tbody>
</table>
<div class="example-modal">
    <div id="ImgView3" class="modal modal-default" style="margin-top:4%;">
        <div class="modal-dialog" style="width:840px;">
            <div id="ImgView3Div">
                <div class="modal-body" style="margin-top:4%;">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color:#cccccc;padding-top:5px;">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>View Attachment</b></h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">

                                <img src="" id="HideImg2" style="object-fit:contain;">

                            </div>
                            <br />

                        </div>
                        <div class="modal-footer" style="background-color:#cccccc;height:42px;padding-bottom:5px;padding-top:5px;border-radius: 0px 0px 5px 5px;">
                            <button data-dismiss="modal" class="btn btn-danger" type="button">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@*<img src="" id="HideImg2" style="object-fit:contain;">
<input type="button" value="X" id="close_image2">*@
<input type="hidden" id="img_no2" value="1">

