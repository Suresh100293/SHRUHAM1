@model ALT_ERP3.Areas.Logistics.Models.MessageRulesVM
@{
    /**/

    ViewBag.Title = "Transaction Message Rules";
}
<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" />
<script src="~/Content/bootstrap-multiselect.js"></script>
<script>
    $(document).ready(function () {

        //$("#AllSendSMS").prop("disabled", true);

        $('.SMSBranchL,.EmailBranchL,.MSGBranchL').multiselect({
            includeSelectAllOption: true,
            enableFiltering: true,
            enableCaseInsensitiveFiltering: true,
            filterPlaceholder: 'Search for something...',
            buttonWidth: '235',
            numberDisplayed: 1,
            nonSelectedText: 'Select Branch',
        });


        $('#AllSendSMS').click(function () {
            var xcess = $('#AllSendSMS').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MessageRules_SendSMS']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MessageRules_SendSMS']").prop("checked", false);

                })
            }
        });

        $('#EmailAllxAdd').click(function () {
            var xcess = $('#EmailAllxAdd').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xAdd']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xAdd']").prop("checked", false);

                })
            }
        });

        $('#EmailAllxEdit').click(function () {
            var xcess = $('#EmailAllxEdit').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xEdit']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xEdit']").prop("checked", false);

                })
            }
        });

        $('#EmailAllxDelete').click(function () {
            var xcess = $('#EmailAllxDelete').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xDelete']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xDelete']").prop("checked", false);

                })
            }
        });

        $('#EmailAllxPrint').click(function () {
            var xcess = $('#EmailAllxPrint').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xPrint']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xPrint']").prop("checked", false);

                })
            }
        });

        $('#EmailAllxBackDated').click(function () {
            var xcess = $('#EmailAllxBackDated').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xBackDated']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='EmailMessageRules_xBackDated']").prop("checked", false);

                })
            }
        });

        $('#MsgAllxAdd').click(function () {
            var xcess = $('#MsgAllxAdd').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xAdd']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xAdd']").prop("checked", false);

                })
            }
        });

        $('#MsgAllxEdit').click(function () {
            var xcess = $('#MsgAllxEdit').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xEdit']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xEdit']").prop("checked", false);

                })
            }
        });

        $('#MsgAllxDelete').click(function () {
            var xcess = $('#MsgAllxDelete').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xDelete']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xDelete']").prop("checked", false);

                })
            }
        });

        $('#MsgAllxPrint').click(function () {
            var xcess = $('#MsgAllxPrint').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xPrint']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xPrint']").prop("checked", false);

                })
            }
        });

        $('#MsgAllxBackDated').click(function () {
            var xcess = $('#MsgAllxBackDated').is(':checked');
            if (xcess == true) {

                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xBackDated']").prop("checked", true);

                })
            }
            else {
                $('#tabledatapick2 tbody tr').each(function () {
                    var tds = $(this).find('td');
                    tds.find("input[id='MSGMessageRules_xBackDated']").prop("checked", false);

                })
            }
        });

    });
</script>
<style>
    .fixTableHead {
        overflow-y: auto;
        height: 300px;
    }

        .fixTableHead thead  {
            position: sticky;
            top: 0;
        }

</style>
<div class="fixTableHead" style="width:100%!important;overflow:scroll;min-height:429px;">
    <table id="tabledatapick2" class="zui-table " style="font-size:12pt;width:200%!important;">
        <thead>
            <tr role="row">
                <th style=" vertical-align:inherit;border-right: 1px solid black;"></th>

                <th colspan="3" style=" vertical-align:inherit;border-right: 1px solid black;">SMS Details</th>
                <th colspan="6" style=" vertical-align:inherit;border-right: 1px solid black;">Email Details</th>
                <th colspan="6" style=" vertical-align:inherit;border-right: 1px solid black;">Msg Details</th>

                <th class="hidden" style="vertical-align:inherit;"></th>
            </tr>
            <tr role="row">
                <th style="vertical-align:inherit;border-right: 1px solid black;"></th>

                <th style="vertical-align:inherit;"><input id="AllSendSMS" name="AllSendSMS" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"></th>
                <th style="vertical-align:inherit;border-right: 1px solid black;"></th>

                <th style="vertical-align:inherit;"><input id="EmailAllxAdd" name="AllxAdd" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="EmailAllxEdit" name="AllxEdit" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="EmailAllxDelete" name="AllxDelete" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="EmailAllxPrint" name="AllxPrint" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="EmailAllxBackDated" name="AllxBackDated" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;border-right: 1px solid black;"></th>

                <th style="vertical-align:inherit;"><input id="MsgAllxAdd" name="AllxAdd" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="MsgAllxEdit" name="AllxEdit" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="MsgAllxDelete" name="AllxDelete" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="MsgAllxPrint" name="AllxPrint" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;"><input id="MsgAllxBackDated" name="AllxBackDated" style="width:16px;height:16px;" type="checkbox"></th>
                <th style="vertical-align:inherit;border-right: 1px solid black;"></th>

                <th class="hidden" style="vertical-align:inherit;"></th>
            </tr>
            <tr role="row">
                <th style="vertical-align:inherit;border-right: 1px solid black;">User ID</th>

                <th style="vertical-align:inherit;">SMS Add</th>
                <th style="vertical-align:inherit;">Template</th>
                <th style="vertical-align:inherit;border-right: 1px solid black;">Branch</th>


                <th style="vertical-align:inherit;">Add</th>
                <th style="vertical-align:inherit;">Edit</th>
                <th style="vertical-align:inherit;">Delete</th>
                <th style="vertical-align:inherit;"> V /P </th>
                <th style="vertical-align:inherit;">Back Dated</th>
                <th style="vertical-align:inherit;border-right: 1px solid black;">Branch</th>

                <th style="vertical-align:inherit;">Add</th>
                <th style="vertical-align:inherit;">Edit</th>
                <th style="vertical-align:inherit;">Delete</th>
                <th style="vertical-align:inherit;"> V /P </th>
                <th style="vertical-align:inherit;">Back Dated</th>
                <th style="vertical-align:inherit;border-right: 1px solid black;">Brnach</th>

                <th class="hidden" style="vertical-align:inherit;">Limit Amount</th>

            </tr>
        </thead>
        <tbody>
            @if (Model.mRightList != null)
            {
                for (int i = 0; i < Model.mRightList.Count; i++)
                {
                    <tr style="font-family:Tahoma;font-size:12pt;border: solid 1px lightgray;">
                        <td style="text-align:center;border-right: 1px solid black;">@Html.TextBoxFor(m => Model.mRightList[i].MessageRules_Code, new { @value = Model.mRightList[i].MessageRules_Code, @style = "border:none;text-align:left;", @readonly = "readonly", @id = "MessageRules_Code", @name = "MessageRules_Code" })</td>

                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].MessageRules_SendSMS, new { @value = Model.mRightList[i].MessageRules_SendSMS, @style = "width:16px;height:16px;", @id = "MessageRules_SendSMS", @name = "MessageRules_SendSMS" })</td>
                        <td style="text-align:center;">@Html.DropDownListFor(m => Model.mRightList[i].SMSTemplate, Model.SMSTemplates.Select(y => new SelectListItem { Text = y.Text, Value = y.Value, Selected = Model.mRightList[i].SMSTemplate == null ? false : Model.mRightList[i].SMSTemplate.Contains(y.Value) }), "--Select--", new { @value = Model.mRightList[i].SMSTemplate, @class = "form-control", @style = "font-size:14px;font-weight:bolder;", @id = "PSMSTemplate", @name = "PSMSTemplate" })</td>
                        <td style="text-align:center;border-right: 1px solid black;">@Html.ListBoxFor(x => Model.mRightList[i].SMSBranchL, Model.SMSBranchs.Select(y => new SelectListItem { Text = y.Text, Value = y.Value, Selected = Model.mRightList[i].SMSBranchL == null ? false : Model.mRightList[i].SMSBranchL.Contains(y.Value) }), new { Multiple = "multiple", size = "4", @class = "SMSBranchL", @id = "SMSBranchL" })</td>

                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].EmailMessageRules_xAdd, new { @value = Model.mRightList[i].EmailMessageRules_xAdd, @style = "width:16px;height:16px;", @id = "EmailMessageRules_xAdd", @name = "EmailMessageRules_xAdd" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].EmailMessageRules_xEdit, new { @value = Model.mRightList[i].EmailMessageRules_xEdit, @style = "width:16px;height:16px;", @id = "EmailMessageRules_xEdit", @name = "EmailMessageRules_xEdit" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].EmailMessageRules_xDelete, new { @value = Model.mRightList[i].EmailMessageRules_xDelete, @style = "width:16px;height:16px;", @id = "EmailMessageRules_xDelete", @name = "EmailMessageRules_xDelete" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].EmailMessageRules_xPrint, new { @value = Model.mRightList[i].EmailMessageRules_xPrint, @style = "width:16px;height:16px;", @id = "EmailMessageRules_xPrint", @name = "EmailMessageRules_xPrint" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].EmailMessageRules_xBackDated, new { @value = Model.mRightList[i].EmailMessageRules_xBackDated, @style = "width:16px;height:16px;", @id = "EmailMessageRules_xBackDated", @name = "EmailMessageRules_xBackDated" })</td>
                        <td style="text-align:center;border-right: 1px solid black;">@Html.ListBoxFor(x => Model.mRightList[i].EmailBranchL, Model.EmailBranchs.Select(y => new SelectListItem { Text = y.Text, Value = y.Value, Selected = Model.mRightList[i].EmailBranchL == null ? false : Model.mRightList[i].EmailBranchL.Contains(y.Value) }), new { Multiple = "multiple", size = "4", @class = "EmailBranchL", @id = "EmailBranchL" })</td>

                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].MSGMessageRules_xAdd, new { @value = Model.mRightList[i].MSGMessageRules_xAdd, @style = "width:16px;height:16px;", @id = "MSGMessageRules_xAdd", @name = "MSGMessageRules_xAdd" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].MSGMessageRules_xEdit, new { @value = Model.mRightList[i].MSGMessageRules_xEdit, @style = "width:16px;height:16px;", @id = "MSGMessageRules_xEdit", @name = "MSGMessageRules_xEdit" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].MSGMessageRules_xDelete, new { @value = Model.mRightList[i].MSGMessageRules_xDelete, @style = "width:16px;height:16px;", @id = "MSGMessageRules_xDelete", @name = "MSGMessageRules_xDelete" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].MSGMessageRules_xPrint, new { @value = Model.mRightList[i].MSGMessageRules_xPrint, @style = "width:16px;height:16px;", @id = "MSGMessageRules_xPrint", @name = "MSGMessageRules_xPrint" })</td>
                        <td style="text-align:center;">@Html.CheckBoxFor(m => Model.mRightList[i].MSGMessageRules_xBackDated, new { @value = Model.mRightList[i].MSGMessageRules_xBackDated, @style = "width:16px;height:16px;", @id = "MSGMessageRules_xBackDated", @name = "MSGMessageRules_xBackDated" })</td>
                        <td style="text-align:center;border-right: 1px solid black;">@Html.ListBoxFor(x => Model.mRightList[i].MSGBranchL, Model.MSGBranchs.Select(y => new SelectListItem { Text = y.Text, Value = y.Value, Selected = Model.mRightList[i].MSGBranchL == null ? false : Model.mRightList[i].MSGBranchL.Contains(y.Value) }), new { Multiple = "multiple", size = "4", @class = "MSGBranchL", @id = "MSGBranchL" })</td>

                        <td class="hidden" style="text-align:center;">@Html.TextBoxFor(m => Model.mRightList[i].MessageRules_LimitAmount, new { @value = Model.mRightList[i].MessageRules_LimitAmount, @style = "text-align:right;", @id = "MessageRules_LimitAmount", @name = "MessageRules_LimitAmount" })</td>

                    </tr>
                }
            }
        </tbody>
    </table>
</div>

