@model ALT_ERP3.Areas.Logistics.Models.UserDashboardVM
@using Common;
@{
    ViewBag.Title = "Dashboard Master";
    Layout = null;
}
<script src="@Url.Content("~/Content/js/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/js/jquery.constrain.js")" type="text/javascript"></script>
<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" />
<script src="~/Content/bootstrap-multiselect.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        
        $("#Code").change(function (event) {
            event.preventDefault();
            $("#btnUpdate,#btnBackTolist").prop("disabled", true);
            var url = '@Url.Action("GetReportParameter")';
            var ModelData = {};
            ModelData["Code"] = $("#Code").val();
            ModelData["User"] = $("#User").val();
            ModelData["GridMode"] = '@Model.GridMode';
            var DTO = { Model: ModelData };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    $('.spinner').hide();
                    var AttachDoc = $("#PartialView");
                    AttachDoc.html('');
                    AttachDoc.html(data.Html);
                },
            });
        });
    });
</script>

<section id="FmDetailsPanel" style="margin-bottom:0px;">
    <div class="panel-body">
        <div class="form-horizontal " role="form" style="">
            <div class="panel panel-default">
                <div class="panel-body " style="padding-left: 0px;">
                    <div class="form-group" style="margin-left: 1px;">
                        <label class=" bold   col-sm-2  control-label">Menu No:</label>
                        <div class="col-sm-1 ">
                            @Html.TextBoxFor(x => x.Srno, new { @class = "form-control", @Value = Model.Srno, @disabled = "disabled" })
                        </div>
                        <label class=" bold   col-sm-2  control-label">Menu Code:<span style="color:red;">*</span></label>
                        <div class="col-sm-2 ">
                            @if (Model.GridMode == "Add")
                            {
                                @Html.DropDownListFor(x => x.Code, Model.Codes, "<-- Select Menu -->", new { @class = "form-control Code", @style = "float: right;width:auto;display: inline-table;" })
                            }
                            else
                            {
                                @Html.DropDownListFor(x => x.Code, Model.Codes, "<-- Select Menu -->", new { @class = "form-control Code", @style = "float: right;width:auto;display: inline-table;",@disabled="disabled" })
                            }
                        </div>
                        <label class=" bold   col-sm-1  control-label">Active:<span style="color:red;">*</span></label>
                        <div class="col-sm-1 ">
                            @Html.CheckBoxFor(x => x.Status, new { @value = Model.Status, @style = "height:23px;width:26px;" })
                        </div>
                        <label class=" bold   col-sm-1  control-label">Zoom:</label>
                        <div class="col-sm-1 ">
                            @Html.CheckBoxFor(x => x.ZoomURL, new { @value = Model.ZoomURL, @style = "height:23px;width:26px;", @title = "If U Double Click ON Heading Then Go To The Details Reports." })
                        </div>
                    </div>
                    <hr style="margin: 5px;border: solid #9d00ff 1px;" />
                    <div id="PartialView">
                        @Html.Partial("_ParameterDesign")
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    
</section>
<footer class="footer-section" style="position:fixed;background-color:#4B4A4A;padding:3px;color:white;">
    <div class="row">
        <div class="col-sm-5">
            <div class="col-md-4 pull-left" style="padding-left:6px;font-family:Tahoma;padding-top:2px;padding-right:5px;font-size:9pt; width:unset;">
            </div>
        </div>
        <div class="col-sm-3" style="margin-top:4px;color:white;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
            ALT AIR-3.0, Shruham Software
        </div>
        <div class="col-sm-4" style="padding-right: 20px;">
            @if (Model.Mode != "View")
            {
                <div class="col-md-4 pull-right" style="padding-left:6px;font-family:Tahoma;padding-top:2px;padding-right:0px;font-size:9pt; width:unset;">
                    @if (Model.Mode == "Add" || Model.Mode == "Edit")
                    {
                        <button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="Submit" data-toggle="tooltip" data-placement="top" title="Save">Save</button>
                        <a href="~/Logistics/MasterGrid/Index?ViewDataId=@Model.ViewDataId&Module=@Model.Module&TableName=@Model.TableName&OptionType=@Model.OptionType&OptionCode=@Model.OptionCode&Header=@Model.Header&Controller2=@Model.Controller2&MainType=@Model.MainType" class="btn btn-danger" style="font-size: 13px;padding:3px 12px;" id="Cancel">Cancel</a>
                    }
                    else
                    {
                        <button class="btn btn-danger" style="font-size: 13px;padding:3px 12px;" id="Submit" data-toggle="tooltip" data-placement="top" title="Save">Delete</button>
                        <a href="~/Logistics/MasterGrid/Index?ViewDataId=@Model.ViewDataId&Module=@Model.Module&TableName=@Model.TableName&OptionType=@Model.OptionType&OptionCode=@Model.OptionCode&Header=@Model.Header&Controller2=@Model.Controller2&MainType=@Model.MainType" class="btn btn-danger" style="font-size: 13px;padding:3px 12px;" id="Cancel">Cancel</a>
                    }
                </div>
            }
        </div>
    </div>
</footer>

@Html.HiddenFor(x => x.Document)
@Html.HiddenFor(x => x.Master)
@Html.HiddenFor(x => x.User)
@Html.HiddenFor(x => x.Branch)
@Html.HiddenFor(x => x.Vehicle)
@Html.HiddenFor(x => x.Driver)
@Html.HiddenFor(x => x.VehicleExpDue)
@Html.HiddenFor(x => x.VehicleMaster)