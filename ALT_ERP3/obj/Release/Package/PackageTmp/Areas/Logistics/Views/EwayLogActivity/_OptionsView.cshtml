@model ALT_ERP3.Areas.Logistics.Models.EWBLogVM

<style>
    .ModalLabel {
        font-weight: bold !important;
        color: black !important;
        padding: 3px !important;
    }

    .td1 {
        width: 500px !important;
    }

    .td2 {
        width: 500px !important;
    }

    .td3 {
        width: 500px !important;
    }

    .btn-group, .btn-group-vertical {
        float: right;
    }
</style>
<script src="@Url.Content("~/Content/js/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/js/jquery.constrain.js")" type="text/javascript"></script>
<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" />
<script src="~/Content/bootstrap-multiselect.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

        $('#Fromdate').val('@Model.FromDate');
        $('#ToDate').val('@Model.ToDate');

        $(".UserL").change(function () {
            debugger;
            $('#User').val('');
            var selected = "";
            $(".UserL :selected").each(function () {
                selected += ("" + $(this).val() + ",");
            });
            selected = selected.toString().substring(0, selected.length - 1);
            $('#User').val(selected)
            return false;
        });

        $(".BranchL").change(function () {
            debugger;
            $('#Branch').val('');
            var selected = "";
            $(".BranchL :selected").each(function () {
                selected += ("" + $(this).val() + ",");
            });
            selected = selected.toString().substring(0, selected.length - 1);
            $('#Branch').val(selected)
            return false;
        });

        $(".DescriptionL").change(function () {
            debugger;
            $('#Description').val('');
            var selected = "";
            $(".DescriptionL :selected").each(function () {
                selected += ("" + $(this).val() + ",");
            });
            selected = selected.toString().substring(0, selected.length - 1);
            $('#Description').val(selected)
            return false;
        });

        $('#btnopnFormat').click(function (event) {
            event.preventDefault();
            var ModelData = {};
            ModelData["ViewDataId"] = $("#FormatCode").val();
            var DTO = { Model: ModelData };
            var url = '@Url.Action("GetReportFormat")';
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json;charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    $("#ErrorMessage").hide();
                    $('.spinner').hide();
                    $('#updTfatsearch').modal('show');
                    $('#updTfatsearchDiv').html(data.Html);
                },
                error: function () {
                    alert("Error occured while processing your request.");
                }
            });
        });

        $('.UserL,.DescriptionL,.BranchL').multiselect({
            includeSelectAllOption: true,
            enableFiltering: true,
            enableCaseInsensitiveFiltering: true,
            filterPlaceholder: 'Search for something...',
            buttonWidth: '235',
            numberDisplayed: 1,
            nonSelectedText: 'Select Option',
        });
    });
</script>
<table class="table table-striped table-bordered">
    <thead>
    </thead>
    <tbody>
        <tr>
            <td class="td1">
                <label class=" ModalLabel  control-label" style="width:auto;"> Branch :</label>
                @Html.ListBoxFor(x => x.BranchL, Model.Branches, new { @class = "BranchL", @id = "BranchL" })
            </td>
            <td class="td2">
                <label class=" ModalLabel  control-label" style="width:auto;"> User :</label>
                @Html.ListBoxFor(x => x.UserL, Model.Users, new { @class = "UserL", @id = "UserL" })
            </td>
            <td class="td3">
                <label class=" ModalLabel  control-label" style="width:auto;"> Type :</label>
                @Html.ListBoxFor(x => x.DescriptionL, Model.Descriptions, new { @class = "DescriptionL", @id = "DescriptionL" })
            </td>
        </tr>
    </tbody>
</table>



