<link href="~/Content/js/ckeditor/bootstrap3-wysihtml5.css" rel="stylesheet" />
<div class="modal-content">
    <div class="modal-header" style="background-color:#cccccc">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Edit Note</h4>
    </div>
    <div class="modal-body" style="padding:unset;">
        <textarea id="editor2" name="editor2" rows="10" cols="80" style="visibility: hidden; display: none;"></textarea>
        <div id="cke_editor2" class="cke_1 cke cke_reset cke_chrome cke_editor_editor1 cke_ltr cke_browser_webkit" dir="ltr" lang="en" role="application" aria-labelledby="cke_editor1_arialbl">
            <span id="cke_editor2_arialbl" class="cke_voice_label">Rich Text Editor, editor1</span>
        </div>
    </div>
    <div class="modal-footer" style="background-color:#cccccc">
        <button type="button" class="btn btn-warning" data-dismiss="modal" id="btnEditNotes">Save</button>
        <button data-dismiss="modal" class="btn btn-danger" type="button">Close</button>
    </div>
</div>

<script src="~/Content/js/ckeditor/ckeditor.js"></script>
<script src="~/Content/js/ckeditor/bootstrap3-wysihtml5.all.min.js"></script>
<script src="https://cdn.ckeditor.com/4.4.3/standard/ckeditor.js" type="text/javascript"></script>
<!-- Bootstrap WYSIHTML5 -->
<script type="text/javascript">
    $(document).ready(function () {
        $('#btnEditNotes').click(function () {
            var code = $('#hdnperid').val();
            var mode = $('#hdnchangelog').val();
            var textAreContent = $(".jqte_editor").html()
            event.preventDefault();
            if (mode == 'edit') {
                var url = '@Url.Action("EditAddNotes")?Code=' + code + '&mode=' + mode
            }
            else {
                var url = '@Url.Action("SaveAddNote")?Code=' + code + '&mode=' + mode
            }
            var ModelData = {};
            ModelData["Narr"] = CKEDITOR.instances['editor2'].getData();
            var DTO = { Model: ModelData };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    if (data.Status == 'Success') {
                        $('.spinner').hide();
                        window.location.href("SalesMan/Index?id=" + data.id)
                        $("#ErrorMessage1").hide();

                    }
                    else {
                        $('.spinner').hide();
                        $("#ErrorMessage1").show();
                        $("#ErrorMessage1").html(data.html);
                    }
                },

            });
        });
    });

    $(function () {
        // Replace the <textarea id="editor1"> with a CKEditor
        // instance, using default configuration.
        CKEDITOR.replace('editor2');
        //bootstrap WYSIHTML5 - text editor
        $(".textarea").wysihtml5();
    });
</script>