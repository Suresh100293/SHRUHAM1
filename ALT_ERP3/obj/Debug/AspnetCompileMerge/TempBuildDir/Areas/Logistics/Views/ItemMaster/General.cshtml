
@model TFATERPWebApplication.Areas.Logistics.Models.ItemMasterVM
@using Common;

<script type="text/javascript">
    $(document).ready(function () {
        GetStore()
        GetBinNumb()
        loadSecUnit()
        //GetBinbystore()
        loadSecUnit()
        loadUnitS2()
        loadUnitP2()
        loadUnitM2()
        $('input[type=checkbox]').change(function () {
            if ($("#BinNo").is(':checked')) {
                GetBinbystore()
            }
        });
    });

    function GetStore() {
        event.preventDefault();
        var url = '@Url.Action("GetStoreCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#Store').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#Store").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#Store').val('@Model.Store').attr("selected", "selected");
                $('.spinner').hide();
                $("#ErrorMessage").hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function GetBinNumb() {
        event.preventDefault();
        var url = '@Url.Action("GetBinCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#Store').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#BINNumber").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#BINNumber').val('@Model.BINNumber').attr("selected", "selected");
                $('.spinner').hide();
                $("#ErrorMessage").hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    @*function GetBinbystore() {
        $('#BINNumber').empty();
        event.preventDefault();
        var url = '@Url.Action("GetBinCodebystore")?Storecode=' + $('#Store').val();
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#BINNumber').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#BINNumber").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#BINNumber').val('@Model.BINNumber').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };*@

    function loadSecUnit() {
        var url = '@Url.Action("GetSecUnit")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#Unit2").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#Unit2').val('@Model.Unit2').attr("selected", "selected");
                $('.spinner').hide();

            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };

    function loadUnitS2() {
        var url = '@Url.Action("GetUnitS2")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#UnitS2").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#UnitS2').val('@Model.UnitS2').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadUnitP2() {
        var url = '@Url.Action("GetUnitP2")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#UnitP2").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#UnitP2').val('@Model.UnitP2').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };

    function loadUnitM2() {
        var url = '@Url.Action("GetUnitM2")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#UnitM2").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#UnitM2').val('@Model.UnitM2').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };
</script>

<div class="row">
    <br />
    <div class="col-lg-12">
        <div class="col-md-6">
            <div class="form-group">
                <label class="col-sm-4 control-label">Default Store:</label>
                <div class="col-sm-6">
                    @Html.DropDownListFor(x => x.Store, DropdownHelper.EmptyList(), new { @Class = "selected form-control", @Id = "Store", @Name = "Store" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">BIN Wise Allocation:</label>
                <div class="col-sm-1">
                    @Html.CheckBoxFor(x => x.BINRequired, new { @id = "BINRequired", @name = "BINRequired", @value = Model.BINRequired, @style = "width:16px;height:16px;" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Default Storage BIN:</label>
                <div class="col-sm-6">
                    @Html.DropDownListFor(x => x.BINNumber, DropdownHelper.EmptyList(), new { @Class = "selected form-control", @Id = "BINNumber", @Name = "BINNumber" })
                </div>
            </div>
            <br />
            <div class="form-group">
                <label class="col-sm-4 control-label">Alternate Qty (Second Unit)?</label>
                <div class="col-sm-6">
                    @Html.CheckBoxFor(x => x.SecondUnit, new { @id = "SecondUnit", @Name = "SecondUnit", @value = Model.SecondUnit, @style = "width:16px;height:16px;" })
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-4 control-label">Alternate Qty Unit:</label>
                <div class="col-sm-6">
                    @Html.DropDownListFor(x => x.Unit2, DropdownHelper.EmptyList(), new { @class = "form-control", @id = "Unit2", @name = "Unit2" })
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-4 control-label">Apply Rates On Alternate Unit?:</label>
                <div class="col-sm-6">
                    @Html.CheckBoxFor(x => x.RateOn2, new { @id = "RateOn2", @Name = "RateOn2", @value = Model.RateOn2, @style = "width:16px;height:16px;" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Alternate Unit Wise Order Status?:</label>
                <div class="col-sm-6">
                    @Html.CheckBoxFor(x => x.CheckPending2, new { @id = "CheckPending2", @Name = "CheckPending2", @value = Model.CheckPending2, @style = "width:16px;height:16px;" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Check MRP In Issues?</label>
                <div class="col-sm-6">
                    @Html.CheckBoxFor(x => x.CheckMRP, new { @id = "CheckMRP", @Name = "CheckMRP", @value = Model.CheckMRP, @style = "width:16px;height:16px;" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Disable First Qty?</label>
                <div class="col-sm-6">
                    @Html.CheckBoxFor(x => x.LockQty, new { @id = "LockQty", @Name = "LockQty", @value = Model.LockQty, @style = "width:16px;height:16px;" })
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <div class="form-group">
                <label class="col-sm-3 control-label">Sales Second Unit:</label>
                <div class="col-sm-6">
                    @Html.DropDownListFor(x => x.UnitS2, DropdownHelper.EmptyList(), new { @class = "form-control", @id = "UnitS2", @Name = "UnitS2" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Purchase Second Unit:</label>
                <div class="col-sm-6">
                    @Html.DropDownListFor(x => x.UnitP2, DropdownHelper.EmptyList(), new { @class = "form-control", @id = "UnitP2", @Name = "UnitP2" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">MFG Second Unit:</label>
                <div class="col-sm-6">
                    @Html.DropDownListFor(x => x.UnitM2, DropdownHelper.EmptyList(), new { @class = "form-control", @id = "UnitM2", @Name = "UnitM2" })
                </div>
            </div>
        </div>
    </div>
</div>