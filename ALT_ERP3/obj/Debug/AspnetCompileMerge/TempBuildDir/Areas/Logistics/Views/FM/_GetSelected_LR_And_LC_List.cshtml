@model IEnumerable<TFATERPWebApplication.Areas.Logistics.Models.LR_LC_Combine_VM>
@{
    Layout = null;
}
<script type="text/javascript">
    $(document).ready(function () {

        $("#lstDelete").click(function () {
            $(".beleteColumn").show();
        });
        $(".beleteColumn").hide();
        var TotalWeight = 0, TotalQty = 0;
        var check = $('#GetListLRLC').find('.lr').length;
        $("#NNoOfLr").html(check);
        $("#GetListLRLC tbody tr input[type=button]").each(function () {
            debugger;
            var row = $(this).closest("tr")[0];
            var col2_value = row.cells[1].innerHTML;
            var col1_value = row.cells[3].innerHTML;
            TotalWeight = parseFloat(TotalWeight) + parseFloat(col1_value);
            TotalQty = parseFloat(TotalQty) + parseFloat(col2_value);
        });
        $("#NTotalWeight").html(TotalWeight);
        $("#NTotalQuantity").html(TotalQty);

        
        $(".deletebtn").click(function () {
            $(this).closest('tr').remove();
            TotalWeight = 0, TotalQty = 0;
            var check = $('#GetListLRLC').find('.lr').length;
            $("#NNoOfLr").html(check);
            $("#GetListLRLC tbody tr input[type=button]").each(function () {
                debugger;
                var row = $(this).closest("tr")[0];
                var col2_value = row.cells[1].innerHTML;
                var col1_value = row.cells[3].innerHTML;
                TotalWeight = parseFloat(TotalWeight) + parseFloat(col1_value);
                TotalQty = parseFloat(TotalQty) + parseFloat(col2_value);
            });
            $("#NTotalWeight").html(TotalWeight);
            $("#NTotalQuantity").html(TotalQty);
        });

    });


</script>
<table class="table table-striped table-bordered table-responsive">
    <thead>
        <tr>
            
            <th style="text-align: center;font-weight: bold;color: #ad225c;">LrNo</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Quantity</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Box/Bag</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Actual Weight</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Charge Weight</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Date</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">From</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">TO</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Consigner</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Consignee</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;">Remark</th>
            <th style="text-align: center;font-weight: bold;color: #ad225c;" class="beleteColumn">Action</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td style="font-weight: bold;" class="lr">@item.LRNo</td>
                <td style="font-weight: bold;">@item.Quantity</td>
                <td style="font-weight: bold;">@item.Box_Bag</td>
                <td style="font-weight: bold;">@item.ActWeight.ToString("0.00")</td>
                <td style="font-weight: bold;">@item.ChgWeight</td>
                <td style="font-weight: bold;">@item.Date</td>
                <td style="font-weight: bold;">@item.From</td>
                <td style="font-weight: bold;">@item.To</td>
                <td style="font-weight: bold;">@item.Consigner</td>
                <td style="font-weight: bold;">@item.Consignee</td>
                <td style="font-weight: bold;">@item.Remark</td>
                <td style="font-weight: bold;"  class="beleteColumn"><center><input type="button" class="btn-danger deletebtn" value="Delete" /></center></td>
            </tr>
        }
        <tr>
            <td colspan="3" style="font-weight: bold;text-align:center;color: red;">Total -:</td>
            <td colspan="2" style="font-weight: bold;">No. Of LR :<label id="NNoOfLr" style="padding-left: 15px;font-weight: bold;color: red;">0</label></td>
            <td colspan="2" style="font-weight: bold;">Quantity :<label id="NTotalQuantity" style="padding-left: 15px;font-weight: bold;color: red;">0</label></td>
            <td colspan="2" style="font-weight: bold;">Weight :<label id="NTotalWeight" style="padding-left: 15px;font-weight: bold;color: red;">0</label><label style="padding-left: 15px;font-weight: bold;color: red;">Kgs</label></td>
            <td colspan="3" style="font-weight: bold;"></td>
        </tr>
    </tbody>
</table>