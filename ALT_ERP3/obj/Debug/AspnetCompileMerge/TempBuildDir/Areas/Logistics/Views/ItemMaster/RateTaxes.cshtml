@model TFATERPWebApplication.Areas.Logistics.Models.ItemMasterVM
@using Common;

<script type="text/javascript">
    $(document).ready(function () {
        loadSGSTCode()
        loadPGSTCode()
        loadPCSTCode()
        loadSCode()
        loadPCode()
        loadSCSTCode()
        loadStdRatePick()
        $('#StrVerifyDate').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true,
        });
    });

    function loadPGSTCode() {
        var url = '@Url.Action("GetPGSTCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#PGSTCode").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#PGSTCode').val('@Model.PGSTCode').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadSGSTCode() {
        var url = '@Url.Action("GetSGSTCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#SGSTCode").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#SGSTCode').val('@Model.SGSTCode').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadPCode() {
        var url = '@Url.Action("GetPurchTaxCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#PurchTaxCode").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#PurchTaxCode').val('@Model.PurchTaxCode').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadSCode() {
        var url = '@Url.Action("GetSalesTaxCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#SalesTaxCode").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#SalesTaxCode').val('@Model.SalesTaxCode').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadPCSTCode() {
        var url = '@Url.Action("GetPurchTaxOST")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#PurchTaxOST").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#PurchTaxOST').val('@Model.PurchTaxOST').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadSCSTCode() {
        var url = '@Url.Action("GetSalesTaxOST")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#SalesTaxOST").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#SalesTaxOST').val('@Model.SalesTaxOST').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadStdRatePick() {
        var url = '@Url.Action("GetStdRatePick")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#ServiceTax').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#RateMethod").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#RateMethod').val('@Model.RateMethod').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };
</script>

<div class="row">
    <br />
    <div class="col-lg-12">
        <div class="col-md-6">
            <div class="form-group">
                <div class="form-group">
                    <label class="col-sm-6 control-label"><b>Purchase Parameters:</b></label>
                </div>
                <label class="col-sm-3 control-label">Rate:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.PurchRate,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "PurchRate",
                   @Name = "PurchRate",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Per n Units:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.PurchPer,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "PurchPer",
                   @Name = "PurchPer"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Disc.Amt:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.PurchDiscAmt,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "PurchDiscAmt",
                   @Name = "PurchDiscAmt",
                   @style = "text-align:right;"
               })
                </div>
                <label class="col-sm-2 control-label">Disc%:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.PurchDisc,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "PurchDisc",
                   @Name = "PurchDisc",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Local State Tax:</label>
                <div class="col-sm-3">
                    @Html.DropDownListFor(x => x.PurchTaxCode, DropdownHelper.EmptyList(), new
               {
                   @class = "form-control",
                   @id = "PurchTaxCode",
                   @Name = "PurchTaxCode",
                   @style = "text-align:right;"
               })
                </div>
                <label class="col-sm-2 control-label">Central Tax:</label>
                <div class="col-sm-3">
                    @Html.DropDownListFor(x => x.PurchTaxOST, DropdownHelper.EmptyList(), new
               {
                   @class = "form-control",
                   @id = "PurchTaxOST",
                   @Name = "PurchTaxOST"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Puchase GST Code:</label>
                <div class="col-sm-8">
                    @Html.DropDownListFor(x => x.PGSTCode, DropdownHelper.EmptyList(), new
               {
                   @class = "form-control",
                   @id = "PGSTCode",
                   @Name = "PGSTCode"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Tax On MRP?:</label>
                <div class="col-sm-1">
                    @Html.CheckBoxFor(x => x.MRPTaxP, new
               {
                   @id = "MRPTaxP",
                   @name = "MRPTaxP",
                   @value = Model.MRPTaxP,
                   @style = "width:16px;height:16px;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Restrict Rate:</label>
                <div class="col-sm-1">
                    @Html.CheckBoxFor(x => x.RestrictPR, new
               {
                   @id = "RestrictPR",
                   @name = "RestrictPR",
                   @value = Model.RestrictPR,
                   @style = "width:16px;height:16px;"
               })
                </div>
            </div>
            <br />
            <br />
            <br />
            <br />
            <div class="form-group">
                <label class="col-sm-3 control-label">List Price:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.ListPrice,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "ListPrice",
                   @Name = "ListPrice",
                   @value = Model.ListPrice,
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Cost Rate (Mfg):</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.CostRate,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "CostRate",
                   @Name = "CostRate",
                   @value = Model.CostRate,
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Verify Item:</label>
                <div class="col-sm-1">
                    @Html.CheckBoxFor(x => x.VerifyItem, new
               {
                   @id = "VerifyItem",
                   @name = "VerifyItem",
                   @value = Model.VerifyItem,
                   @style = "width:16px;height:16px;"
               })

                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Verify Date:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.StrVerifyDate, new
               {
                   @type = "text",
                   @class = "form-control",
                   @id = "StrVerifyDate",
                   @Name = "StrVerifyDate",
                   @Value = Model.VerifyDate.ToString("dd-MM-yyyy")
               })
                </div>

                <label class="col-sm-3 control-label">Next Due (Days):</label>
                <div class="col-sm-2">
                    @Html.TextBoxFor(x => x.VerifyDays,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "VerifyDays",
                   @Name = "VerifyDays",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Standard Rate Pickup:</label>
                <div class="col-sm-8">
                    @Html.DropDownListFor(x => x.RateMethod, DropdownHelper.EmptyList(), new { @class = "form-control", @Id = "RateMethod", @Name = "RateMethod" })
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Party Relation Required:</label>
                <div class="col-sm-3">
                    @Html.CheckBoxFor(x => x.SourceListReq, new
               {
                   @id = "SourceListReq",
                   @Name = "SourceListReq",
                   @value = Model.SourceListReq,
                   @style = "width:16px;height:16px;"
               })
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label class="col-sm-6 control-label"><b>Sales Parameters:</b></label>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Rate:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.SalesRate,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "SalesRate",
                   @Name = "SalesRate",
                   @style = "text-align:right;"
               })
                </div>
                <label class="col-sm-2 control-label">Default Qty:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.DefQty,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "DefQty",
                   @Name = "DefQty",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Per n Units:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.SalesPer,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "SalesPer",
                   @Name = "SalesPer",
                   @style = "text-align:right;"
               })
                </div>
                <label class="col-sm-2 control-label">Sales Margin%:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.SalesMargin,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "SalesMargin",
                   @Name = "SalesMargin",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Disc Amt:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.SalesDiscAmt,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "SalesDiscAmt",
                   @Name = "SalesDiscAmt",
                   @style = "text-align:right;"
               })
                </div>
                <label class="col-sm-2 control-label">Disc%:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.SalesDisc,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "SalesDisc",
                   @Name = "SalesDisc",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Local State Tax:</label>
                <div class="col-sm-3">
                    @Html.DropDownListFor(x => x.SalesTaxCode, DropdownHelper.EmptyList(), new
               {
                   @class = "form-control",
                   @id = "SalesTaxCode",
                   @Name = "SalesTaxCode"
               })
                </div>
                <label class="col-sm-2 control-label">Central Tax:</label>
                <div class="col-sm-3">
                    @Html.DropDownListFor(x => x.SalesTaxOST, DropdownHelper.EmptyList(), new
               {
                   @class = "form-control",
                   @id = "SalesTaxOST",
                   @Name = "SalesTaxOST"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Sales GST Code:</label>
                <div class="col-sm-8">
                    @Html.DropDownListFor(x => x.SGSTCode, DropdownHelper.EmptyList(), new
               {
                   @class = "form-control",
                   @id = "SGSTCode",
                   @Name = "SGSTCode"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">MRP:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.MRP,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "MRP",
                   @Name = "MRP",
                   @style = "text-align:right;"
               })
                </div>
                <label class="col-sm-2 control-label">Min.Rate Limit:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.MinSaleRate,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "MinSaleRate",
                   @Name = "MinSaleRate",
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Sales Max.Disc:</label>
                <div class="col-sm-3">
                    @Html.TextBoxFor(x => x.SalesMaxDisc,  new
               {
                   @type = "number",
                   @class = "form-control",
                   @id = "SalesMaxDisc",
                   @name = "SalesMaxDisc",
                   @value = Model.SalesMaxDisc,
                   @style = "text-align:right;"
               })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Tax On MRP?:</label>
                <div class="col-sm-1">
                    @Html.CheckBoxFor(x => x.MRPTaxS, new
           {
               @id = "MRPTaxS",
               @name = "MRPTaxS",
               @value = Model.MRPTaxS,
               @style = "width:16px;height:16px;"
           })
                </div>
            </div>
        </div>
    </div>
</div>
