
@model TFATERPWebApplication.Areas.Logistics.Models.ItemMasterVM
@using Common;

<script type="text/javascript">
    $(document).ready(function () {
        MRPWO()
        MRPIP()
        MRPIS()
        loadRouteCode()
    });

    function MRPWO() {
        event.preventDefault();
        var url = '@Url.Action("GetMRPWO")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#MRPWOType').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#MRPWOType").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#MRPWOType').val('@Model.MRPWOType').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function MRPIP() {
        event.preventDefault();
        var url = '@Url.Action("GetMRPIP")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#MRPIPType').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    $("#MRPIPType").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#MRPIPType').val('@Model.MRPIPType').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };

    function MRPIS() {
        event.preventDefault();
        var url = '@Url.Action("GetMRPIS")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#MRPISType1').val() },
            success: function (result) {
                $.each(result, function (i, item) {
                    //alert(item.Value);
                    $("#MRPISType").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#MRPISType').val('@Model.MRPISType').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };

    function loadRouteCode() {
        event.preventDefault();
        var url = '@Url.Action("GetRouteCode")';
        $.ajax({
            type: 'POST',
            url: url,
            dataType: 'json',
            data: { Country: $('#MRPISType1').val() },
            success: function (result) {
                $.each(result, function (i, item) {

                    $("#RouteCode").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#RouteCode').val('@Model.RouteCode').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;
    };
</script>

<div class="row">
    <br />
    <div class="col-lg-12">
        <div class="col-md-6">
            <div class="form-group">
                <label class="col-sm-6 control-label">MRP Required?</label>
                @Html.CheckBoxFor(x => x.MRPReqd, new { @id = "MRPReqd", @Name = "MRPReqd", @style = "width:16px;height:16px;" })
            </div>
            <div class="form-group">
                <label class="col-sm-6 control-label">MRP Control Group:</label>
                <div class="col-sm-6" style="padding-left:0px;">
                    @Html.TextBoxFor(x => x.MRPControlGroup, new { @class = "form-control", @Name = "MRPControlGroup", @Id = "MRPControlGroup" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-8 control-label"><b>Default Types (Used for Auto Documents):</b></label>
            </div>
            <div class="form-group">
                <label class="col-sm-6 control-label">Work Order:</label>
                <div class="col-sm-6" style="padding-left:0px;">
                    @Html.DropDownListFor(x => x.MRPWOType, DropdownHelper.EmptyList(), new { @Class = "selected form-control", @Id = "MRPWOType", @Name = "MRPWOType" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-6 control-label">Purchase Indent:</label>
                <div class="col-sm-6" style="padding-left:0px;">
                    @Html.DropDownListFor(x => x.MRPIPType, DropdownHelper.EmptyList(), new { @Class = "selected form-control", @Id = "MRPIPType", @Name = "MRPIPType" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-6 control-label">Sub-Contract Indents:</label>
                <div class="col-sm-6" style="padding-left:0px;">
                    @Html.DropDownListFor(x => x.MRPISType, DropdownHelper.EmptyList(), new { @Class = "selected form-control", @Id = "MRPISType", @Name = "MRPISType" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-6 control-label">Default Route Code:</label>
                <div class="col-sm-6" style="padding-left:0px;">
                    @Html.DropDownListFor(x => x.RouteCode, DropdownHelper.EmptyList(), new { @Class = "selected form-control", @Id = "RouteCode", @Name = "RouteCode" })
                </div>
            </div>
        </div>
    </div>
</div>