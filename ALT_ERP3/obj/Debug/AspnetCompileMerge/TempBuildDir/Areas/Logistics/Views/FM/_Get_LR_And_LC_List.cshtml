
@model IEnumerable<TFATERPWebApplication.Areas.Logistics.Models.LR_LC_Combine_VM>
@*@model DataSet*@
@{
    Layout = null;
}

<!DOCTYPE html>
<script  type="text/javascript">
    
    $("#ChkAll").click(function () {
        var TotalWeight = 0, TotalQty = 0;
        $(".checkBoxClass").prop('checked', $(this).prop('checked'));
        if ($(this).prop("checked") == true) {
            var check = $('#GetFMView').find('input[type=checkbox]:checked').length;
            $("#NoOfLr").html(check - 1);

            $("#GetFMView tbody tr input[type=checkbox]:checked").each(function () {
                debugger;
                var row = $(this).closest("tr")[0];
                var col2_value = row.cells[2].innerHTML;
                var col1_value = row.cells[4].innerHTML;
                TotalWeight = parseFloat(TotalWeight) + parseFloat(col1_value);
                TotalQty = parseFloat(TotalQty) + parseFloat(col2_value);
            });
            $("#TotalWeight").html(TotalWeight);
            $("#TotalQuantity").html(TotalQty);
        } else {
            $("#NoOfLr").html(0);
            $("#TotalWeight").html(0);
            $("#TotalQuantity").html(0);
        }
        
    });
    
    
    $(".checkBoxClass").click(function () {
        var CountLR = 0, TotalWeight=0,TotalQty=0;
        $("#GetFMView tbody tr input[type=checkbox]:checked").each(function () {
            var row = $(this).closest("tr")[0];
            var col1_value = row.cells[4].innerHTML;
            var col2_value = row.cells[2].innerHTML;
            TotalWeight = parseFloat(TotalWeight) + parseFloat(col1_value);
            TotalQty = parseFloat(TotalQty) + parseFloat(col2_value);
            ++CountLR;
        });
        $("#NoOfLr").html(CountLR);
        $("#TotalWeight").html(TotalWeight);
        $("#TotalQuantity").html(TotalQty);
    });
    

</script>

    <h4 class="text-center text-uppercase" style="color: darkgrey;font-weight: bold;">Lorry Receipt List</h4>
    <hr />
    <table class="table table-striped table-bordered table-responsive">
        <thead>
            <tr>
                <th style="text-align: center;font-weight: bold;color: #ad225c;"><input type="checkbox" value="All" id="ChkAll" /></th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">LrNo</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Quantity</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Box/Bag</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Actual Weight</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Charge Weight</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Date</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">From</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">TO</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Consigner</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Consignee</th>
                <th style="text-align: center;font-weight: bold;color: #ad225c;">Remark</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td style="font-weight: bold;"><input type="checkbox" class="checkBoxClass" value=@item.LRNo id=@item.LRNo /></td>
                    <td style="font-weight: bold;">@item.LRNo</td>
                    <td style="font-weight: bold;">@item.Quantity</td>
                    <td style="font-weight: bold;">@item.Box_Bag</td>
                    <td style="font-weight: bold;">@item.ActWeight.ToString("0.00")</td>
                    <td style="font-weight: bold;">@item.ChgWeight</td>
                    <td style="font-weight: bold;">@item.Date</td>
                    <td style="font-weight: bold;">@item.From</td>
                    <td style="font-weight: bold;">@item.To</td>
                    <td style="font-weight: bold;">@item.Consigner</td>
                    <td style="font-weight: bold;">@item.Consignee</td>
                    <td style="font-weight: bold;">@item.Remark</td>
                </tr>
            }
                <tr>
                    <td colspan="3" style="font-weight: bold;text-align:center;color: red;">Total -:</td>
                    <td colspan="2" style="font-weight: bold;">No. Of LR :<label id="NoOfLr" style="padding-left: 15px;font-weight: bold;color: red;">0</label></td>
                    <td colspan="2" style="font-weight: bold;">Quantity :<label id="TotalQuantity" style="padding-left: 15px;font-weight: bold;color: red;">0</label></td>
                    <td colspan="2" style="font-weight: bold;">Weight :<label id="TotalWeight" style="padding-left: 15px;font-weight: bold;color: red;">0</label><label style="padding-left: 15px;font-weight: bold;color: red;">Kgs</label></td>
                    <td colspan="3" style="font-weight: bold;"></td>
                </tr>
        </tbody>
    </table>
