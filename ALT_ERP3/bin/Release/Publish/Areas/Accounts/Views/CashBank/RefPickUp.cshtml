@model TFATERPWebApplication.Areas.Accounts.Models.LedgerVM
@using Common;

<script src="@Url.Content("~/Content/js/jquery.constrain.js")" type="text/javascript"></script>
<script>
    $(document).ready(function () {

        $("#pickrecord").click(function (event) {
            event.preventDefault();
            var myTableArray = [];
            $('#tabledatapick tr:not(:first)').each(function () {
                var tds = $(this).find('td');
                if (tds.find('input[type="checkbox"]').is(':checked')) {
                    Srl = tds.eq(2).text() + tds.eq(3).text(),

                        myTableArray.push(Srl);
                }
            })
            $('#addgetrefmodel').modal('hide');
            $('#addRefDoc').val(myTableArray.toString());


        });
    });


</script>
<div class="modal-body">
    <div class="modal-content">
        <div class="modal-header" style="background-color:#cccccc">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
            <h4 class="modal-title">Purchase Bill Links</h4>
        </div>
        <div class="modal-body">

            <div class="grid" id="PickTable" style="max-height:350px; min-height:350px;width:100%; overflow: scroll;">
                <table id="tabledatapick" class="zui-table">
                    <thead>
                        <tr role="row">
                            <th></th>
                            <th style="width:1%">Sr.</th>

                            <th style="width:10%">Type</th>
                            <th style="width:10%">Serial</th>
                            <th style="width:20%;">Bill Number</th>
                            <th style="width:20%;">Bill Date</th>
                            <th style="width:20%;">Party</th>
                            <th style="width:20%;">Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.NewReferenceList != null)
                        {
                            foreach (var item in @Model.NewReferenceList.ToList())
                            {
                                <tr style="font-family:Tahoma;font-size:9pt;border: solid 1px lightgray;">
                                    <td><input type="checkbox" id='rolemaster_AccessType' atr="@item.tempId" value="@item.tempId" /></td>
                                    <td style="width:1%">@item.tempId</td>

                                    <td style="width:10%;">@item.Type</td>
                                    <td style="width:10%;">@item.Srl</td>
                                    <td style="width:10%;">@item.BillNumber</td>
                                    <td style="width:10%;">@item.StrBillDate</td>
                                    <td style="width:10%;">@item.Party</td>
                                    <td style="width:10%;">@item.Amount</td>

                                </tr>
                            }
                        }
                    </tbody>
                </table>

            </div>

        </div>
        <div class="modal-footer" style="background-color:#cccccc">
            <button type="button" class="btn btn-success" id="pickrecord">Pick</button>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
    </div>
</div>