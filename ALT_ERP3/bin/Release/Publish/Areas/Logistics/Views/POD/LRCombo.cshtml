@model IEnumerable<TFATERPWebApplication.Areas.Logistics.Models.LcDetailsVM>

<style>
    .span6 {
        display: none !important;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {



        $('#example1').DataTable();

        $(".radio").click(function () {
            $(".LQty").val(0);
            $(".LQty").prop("disabled", true);
            $(".CalculateWeight").val(0);
            $(".CalculateWeight").prop("disabled", true);
            $(".AmountEdit").val(0);
            $(".AmountEdit").prop("disabled", true);
            var Row = $(this).closest('tr');
            var RadioCheck = Row.find('.radio').prop("checked");
            if (RadioCheck)
            {
                
                Row.find(".LQty").prop("disabled", false);
                Row.find(".LQty").val(Row.find(".Qty").text());
                Row.find(".CalculateWeight").prop("disabled", false);
                Row.find(".CalculateWeight").val(Row.find(".Weight").text());
                Row.find(".AmountEdit").prop("disabled", false);
                Row.find(".AmountEdit").val(0);
            }
        });



    });
    function LoadQtyBlur(value) {
        
        var Row = $("#" + value);
        var Qty = Row.find(".Qty").text();
        var LoadQty = Row.find(".LQty").val();
        var Weight = Row.find(".Weight").text();
        if (parseFloat(Qty) < parseFloat(LoadQty)) {
            Row.find(".CalculateWeight").val(Row.find(".Weight").text());
            alert("Load Qty Not Greater Than Qty OF Lr.....!");
            Row.find(".LQty").val(Qty);
        } else {
            var CalculateWeight = parseFloat(LoadQty) / parseFloat(Qty) * parseFloat(Weight);
            if (parseInt(CalculateWeight) >= parseInt(Weight)) {
                Row.find(".CalculateWeight").val(Math.round(Weight));
            } else {
                Row.find(".CalculateWeight").val(Math.round(CalculateWeight));
            }
        }

    }
    function LoadweightBlur(value) {
        
        var Row = $("#" + value);
        var Qty = Row.find(".Qty").text();
        var LoadQty = Row.find(".LQty").val();
        var Weight = Row.find(".Weight").text();
        var LWeight = Row.find(".CalculateWeight").val();
        if (parseFloat(Weight) < parseFloat(LWeight)) {
            Row.find(".CalculateWeight").val(Row.find(".Weight").text());
            alert("Weight Not Greater Than Act Weight OF Lr.....!");
        } else {
            var CalculateWeight = parseFloat(LoadQty) / parseFloat(Qty) * parseFloat(Weight);
            Row.find(".CalculateWeight").val(Math.round(CalculateWeight));
        }
    }
</script>

@if (Model != null)
{
    <div class="container-fluid" style="margin-top:8px;margin-left:-15px;min-height:400px;max-height:400px;overflow:auto;">
        <table id="example1" class="table-bordered example">
            <thead>

                <tr>

                    @*<th><center></center></th>*@
                    <th>LRNo</th>
                    <th>Pick From</th>
                    <th>Quantity</th>
                    <th class="hidden">Load Quantity</th>
                    <th class="hidden">Weight</th>
                    <th class="hidden">Amount</th>
                    <th>Charge Weight</th>
                    <th>Actual Weight</th>
                    <th>Charge Type</th>
                    <th>Description</th>
                    <th>Unit</th>
                    <th>From</th>
                    <th>TO</th>
                    <th>Delivery</th>
                    <th>Collection</th>
                    <th>Consigner</th>
                    <th>Consignee</th>
                    <th>LR Type</th>
                    <th class="hidden">Reco</th>

                </tr>
            </thead>
            <tbody style="max-height:400px;min-height:400px;width:100%; overflow-x:hidden;overflow-y:auto">
                @foreach (var item in Model)
                {
                    <tr id="@item.Lrno">
                        @*<td class=""><center><input type="radio" class="radio" name="LR" id="@item.recordekey" style="height: 17px;width: 18px;" /></center></td>*@
                        <td class=" LRValue">@item.Lrno</td>
                        <td class="PickType">@item.PickType</td>
                        <td class="Qty"> @(item.LrQty )</td>
                        <td class="LoadQty hidden"><center><input type="text" class="LQty" style="width:100px;" onblur="LoadQtyBlur(@item.Lrno)" value="@item.LoadQty" disabled /></center></td>
                        <td class=" hidden"><center><input type="text" class="CalculateWeight" style="width:100px;" disabled onblur="LoadweightBlur(@item.Lrno)" value="@item.LRActWeight" /></center></td>
                        <td class="hidden "><center><input type="text" class="AmountEdit" style="width:100px;" disabled value="@item.Amount" /></center></td>
                        <td class=" ">@item.ChrWeight</td>
                        <td class="Weight">@(item.ActWeight)</td>
                        <td class="">@item.ChrgeType</td>
                        <td class="">@item.Description</td>
                        <td class="">@item.Unit</td>
                        <td class="From">@item.From</td>
                        <td class="To">@item.To</td>
                        <td class="">@item.LRDelivery</td>
                        <td class="">@item.LRColln</td>
                        <td class="">@item.Consignor</td>
                        <td class="">@item.Consignee</td>
                        <td class="">@item.LrType</td>
                        <td class="hidden Reco">@item.recordekey</td>
                    </tr>
                }
            </tbody>
        </table>

    </div>
    <br />
}
@*<div class="" style="height:auto;position:fixed;background-color:#4B4A4A;padding:3px;color:white;">
        <button class="btn btn-danger" style="font-size: 13px;padding:3px 12px;" id="btnDeliver">Deliver</button>
    </div>*@

