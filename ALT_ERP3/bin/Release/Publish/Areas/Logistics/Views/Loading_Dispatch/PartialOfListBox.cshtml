@model TFATERPWebApplication.Areas.Logistics.Models.FMVM
@using Common;
@{
    ViewBag.Title = "FM Master";
    Layout = null;
}
<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" />
<script src="~/Content/bootstrap-multiselect.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        var values = $('#hdnAppBranch').val();
        $("#hdnBranchCodeArray").val(values);
        if (values == "") {
        }
        else {
            $.each(values.split(","), function (i, e) {
                
                $(".listbox option[value='" + e + "']").prop("selected", true);
            });
        }

        $(".listbox").change(function () {
            
            $('#hdnBranchCodeArray').val('');
            var selected = [];
            $(".listbox :selected").each(function () {
                selected.push($(this).val());
            });
            $('#hdnBranchCodeArray').val(selected)
            return false;
        });


        ///$('.listbox').multiselect({ includeSelectAllOption: false })
        $('.listbox').multiselect({
            includeSelectAllOption: true,         /*To enable the Select all Option*/
            selectAllValue: 'multiselect-all',     /*The value used for the select all option can be configured using the selectAllValue*/
            enableFiltering: true,   /*A filter input will be added to dynamically filter all the options*/
            enableCaseInsensitiveFiltering: true,  /*To enable Case Insenstitive Filtering (Upper and Lower Case Letters)*/
            maxHeight: '300',
            buttonWidth: '235',
        });

    });

</script>

@Html.ListBoxFor(x => x.PayLoadL, Model.Branches, new { @class = "listbox", @style = "width:200px;", @id = "AppBranch", @disabled = "readonly" })

@Html.HiddenFor(x => x.AppBranch, new { @id = "hdnAppBranch" })


