@model TFATERPWebApplication.Areas.Logistics.Models.DeliveryVM
@using Common;
@{
    ViewBag.Title = "Delivery";
    Layout = null;
}
<script src="@Url.Content("~/Content/js/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/js/jquery.constrain.js")" type="text/javascript"></script>

<style>
    .toggle {
        border-radius: 15px !important;
        margin-top: -35px !important;
    }

        .toggle.btn {
            min-width: 77px !important;
            min-height: 34px;
        }


    fieldset {
        border: 1px solid #ddd !important;
        margin: 0;
        /*xmin-width: 0;*/
        padding: 10px;
        position: relative;
        border-radius: 4px;
        background-color: #f5f5f5;
        padding-left: 5px !important;
    }


    legend {
        /*margin-left: 30%;
        text-align: center;
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 0px;
        width: 35%;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 5px 5px 5px 10px;
        background-color: #dec0c0;*/
        margin-left: 1%;
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 0px;
        border: 1px solid #ddd;
        border-radius: 15px;
        padding: 5px 45px 5px 45px;
        background-color: white;
        width: auto;
        color: red;
    }

    .example {
        border: 1px solid #ccc;
        border-collapse: collapse;
        width: max-content;
        font-size: 9px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

        .example th {
            background-color: #F7F7F7;
            font-weight: bold;
        }

        .example th, .example td {
            border: 1px solid #ccc;
            padding: 5px;
            font-size: 12px;
        }

        .example, .example table td {
            border: 0px solid #ccc;
        }
</style>


<script type="text/javascript">
    var DeliverNO = true, DeliverDate = true;
    $(document).ready(function () {
        
        
       

        if (('@Model.Mode' == "View")||('@Model.Mode' == "Delete")) {
            $('.form-group :input').prop("disabled", true);
        }
        
        if ('@Model.Mode' == 'Add') {
            
            LrDetailsLoad();
            $('#Lrno').prop("disabled", false);
            $('#VehicleNo').prop("disabled", false);

        } else {
            $('#Lrno').prop("disabled", true);
            $('#VehicleNo').prop("disabled", true);
        }
        

        
        
        $('#BothCHK').change(function () {
            
            if (this.checked) {
                $("#DeliveryNo").removeAttr("disabled");
            } else {
                $("#DeliveryNo").attr("disabled", "disabled");
            }
        });

        
        $('#example1  > tbody  > tr').dblclick(function () {
            $("#LRComboList").modal("hide");
            var Row = $(this).closest('tr');
            var Reco = Row.find(".RecorKey").text();
            var ModelData = {};
            ModelData["Lrno"] = Reco;
            var url = '@Url.Action("ShowLRDeliveryDetails")';
            var DTO = { mModel: ModelData };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    var LoadDownLoadFiles = $("#LRDetails");
                    $("#ErrorMessage").hide();
                    $('.spinner').hide();
                    LoadDownLoadFiles.html('');
                    LoadDownLoadFiles.html(data.Html);
                    $("#DeliveryRemark").val($('input[name="DeliveryStatus"]:checked').val());
                },
            });
        });

        $("#btnAttachSubmit").click(function (event) {
            event.preventDefault();
            //$("#LockModal").modal("hide");
            if ($("#Document").val()!="")
            {
                var url = '@Url.Action("SaveAttachment")';
                var ModelData = {};

                ModelData["Document"] = $("#Document").val();
                var DTO = { mModel: ModelData };
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    data: JSON.stringify(DTO),
                    cache: false,
                    url: url,
                    contentType: "application/json; charset=utf-8",
                    beforeSend: function () {
                        $('.spinner').show();
                    },
                    success: function (data)
                    {
                        if (data.Status == 'Success') {
                            $('.spinner').hide();
                            $("#ErrorMessage").hide();
                        }
                        else {
                            $('.spinner').hide();
                            alert(data.Message);                    }
                    },
                    });
            }
        });
        $("#btnPhotoupload").click(function (event) {
            event.preventDefault();
            var size = 0;
            var formData = new FormData();
            var totalFiles = document.getElementById("Attachment_UploadFile").files.length;
            for (var i = 0; i < totalFiles; i++) {
                var file = document.getElementById("Attachment_UploadFile").files[i];
                size += file.size;
                if (file.size < 1048576) {
                    formData.append("UploadFile", file);
                }
                else {
                    alert('File Size Must Not Exceed 1 MB')
                    return;
                }
            }
            if (size > 1048576) {
                alert('File Size Must Not Exceed 1 MB')
                return;
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("AttachDocument")',
                data: formData,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function (data) {
                    $('#ShowAllFile').html(data.Html);
                    AttachMentList();
                    //hideorshowtable();
                },
                error: function (error) {
                    alert("errror");
                }
            });
        });
    $(".btnShow").click(function (event) {
            
             var url = '@Url.Action("ViewImage")';
            event.preventDefault();
            var ModelData = {};
            ModelData["AttachFMNo"] = this.id;

            var DTO = { mModel: ModelData };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    var LoadDownLoadFiles = $("#updTfatsearchDiv1");
                    $("#ErrorMessage").hide();
                    $('.spinner').hide();
                    $('#updTfatsearch1').modal('show');
                    //$('#AllVehicleRate').html('');
                    //$('#AllVehicleRate').html(data.Html);
                    LoadDownLoadFiles.html('');
                    LoadDownLoadFiles.html(data.Html);
                    @*$("#ImageId").val('@Model.attachmentDocuments.AttachmentCode');*@
                   // $('#updTfatsearchDiv').html(data.Html);
                },
            });
        });
        
        $('#btnDelete').click(function (event) {
            event.preventDefault();
            var result = confirm("Are you sure you want to delete Delivery Then POD Also Delete Automatically?");
            if (result) {

                var url = '@Url.Action("SaveData")';
                var ModelData = {};
                ModelData["Document"] = $("#Document").val();
                ModelData["Mode"] = '@Model.Mode';
                var DTO = { mModel: ModelData };
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    data: JSON.stringify(DTO),
                    cache: false,
                    url: url,
                    contentType: "application/json; charset=utf-8",
                    beforeSend: function () {
                        $('.spinner').show();
                    },
                    success: function (data) {
                        if (data.Status == 'Success') {
                            $('.spinner').hide();
                            window.location.href = "/Logistics/Delivery/Index?ViewDataId=Delivery&Module=@Model.Module&TableName=@Model.TableName&OptionType=@Model.OptionType&OptionCode=Delivery&Header=Delivery&Controller2=@Model.Controller2&MainType=@Model.MainType";
                            $("#ErrorMessage").hide();
                        }
                        else {
                            $('.spinner').hide();
                            alert(data.Message);
                        }
                    },
                });
            }
        });
        $('#Submit').click(function (event) {
            event.preventDefault();

            if (!DeliverDate) {
                $("#ErrorMessage1").show();
                $("#ErrorMessage1").text('Date Allow   @Model.MinDate - @Model.MaxDate This Range Only');
                return;
            }

            if (!DeliverNO) {
                $("#ErrorMessage1").show();
                $("#ErrorMessage1").text('DeliveryNO Exist Please Change Delivery No.');
                return;
            }

            if ($("#DeliverWeight").val() == '' || $("#DeliverWeight").val() == '0')
            {
                $("#ErrorMessage").show();
                $("#ErrorMessage").text('PLease Check Deliver Qty......!');
                return;
            }

            var url = '@Url.Action("SaveData")';
            @* iX9: Data from individual field is passed on to the Model and then to Controller for Saving *@
            var ModelData = {};
            ModelData["Document"] = $("#Document").val();
            ModelData["RecordKey"] = $("#DeliverLrRecordKey").val();
            ModelData["DeliveryNo"] = $("#DeliveryNo").val();
            ModelData["Lrno"] = $("#Lrno").val();
            ModelData["DeliveryTime"] = $("#DeliveryTime").val();
            ModelData["DeliveryDate"] = $("#DeliveryDate").val();
            ModelData["DeliverQty"] = $("#DeliverQty").val();
            ModelData["DeliverWeight"] = $("#DeliverWeight").val();
            ModelData["DeliveryRemark"] = $("#DeliveryRemark").val();
            ModelData["PODRemark"] = $("#PODRemark").val();
            ModelData["PODTime"] = $("#PODTime").val();
            ModelData["PODDate"] = $("#PODDate").val();

            ModelData["DeliveryGoodStatus"] = $('input[name="DeliveryStatus"]:checked').val();
            ModelData["POD"] = $('input[name="POD"]:checked').val();

            ModelData["ShortQty"] = $("#ShortQty").val();
            ModelData["BillQty"] = $("#BillQty").val();
            ModelData["PersonName"] = $("#PersonName").val();
            ModelData["MobileNO"] = $("#MobileNO").val();
            
            ModelData["VehicleNo"] = $("#VehicleNo").val();

            ModelData["Mode"] = '@Model.Mode';
            ModelData["MinDate"] = '@Model.MinDate';
            ModelData["MaxDate"] = '@Model.MaxDate';

            var DTO = { mModel: ModelData };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    
                    if (data.Status == 'Success') {
                        $('.spinner').hide();
                        window.location.href = "/Logistics/Delivery/Index?ViewDataId=Delivery&Module=@Model.Module&TableName=@Model.TableName&OptionType=@Model.OptionType&OptionCode=Delivery&Header=Delivery&Controller2=@Model.Controller2&MainType=@Model.MainType";
                        $("#ErrorMessage").hide();
                    }
                    else {
                        
                        $('.spinner').hide();
                        alert(data.Message);                    }
                },
            });
        });
    });

    function LrDetailsLoad() {
        
        var ModelData = {};
        ModelData["Lrno"] = $('#Lrno').val();
        ModelData["Mode"] = '@Model.Mode';
        ModelData["MinDate"] = '@Model.MinDate';
        ModelData["MaxDate"] = '@Model.MaxDate';
        ModelData["Document"] = '@Model.Document';

        var url = '@Url.Action("ShowLRDeliveryDetails")';
        var DTO = { mModel: ModelData };
        $.ajax({
            type: "POST",
            dataType: "json",
            data: JSON.stringify(DTO),
            cache: false,
            url: url,
            contentType: "application/json; charset=utf-8",
            beforeSend: function () {
                $('.spinner').show();
            },
            success: function (data) {
                var LoadDownLoadFiles = $("#LRDetails");
                $("#ErrorMessage").hide();
                $('.spinner').hide();
                LoadDownLoadFiles.html('');
                LoadDownLoadFiles.html(data.Html);
                $("#DeliveryRemark").val($('input[name="DeliveryStatus"]:checked').val());
            },
        });
    }
    function AttachMentList() {

        var url = '@Url.Action("AttachDocumentList")';
                //var ModelData = {};
                //ModelData["Document"] = $("#Document").val();
        var DTO = {  };
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    data: JSON.stringify(DTO),
                    cache: false,
                    url: url,
                    contentType: "application/json; charset=utf-8",
                    beforeSend: function () {
                        $('.spinner').show();
                    },
                    success: function (data)
                    {
                        var LoadDownLoadFiles = $("#AttachList");
                        $("#ErrorMessage").hide();
                        $('.spinner').hide();
                        LoadDownLoadFiles.html('');
                        LoadDownLoadFiles.html(data.Html);

                    },
                    error: function (error) {
                        alert("errror");
                    }
                    });
    }
</script>



<header class="header fixed-top" style="position:fixed;background-color:lightgray;padding:6px;width:100%;margin-top:5px;">
    <div class="fixhead">
        <b class="CodeSt">@Model.Header</b>

        <span class="tools pull-right">
            <a href="~/Logistics/Delivery/Index?ViewDataId=@Model.ViewDataId&Module=@Model.Module&TableName=@Model.TableName&OptionType=@Model.OptionType&OptionCode=@Model.OptionCode&Header=@Model.Header&Controller2=@Model.Controller2&MainType=@Model.MainType" class="btn btn-danger" style="color:white;font-weight:bolder;font-size:13px;padding:3px 10px;" id="Cancel2">X</a>
        </span>
        <span class="tools pull-right">
            <b class="CodeSt">@Model.Mode Mode</b>
        </span>
        <span class="tools pull-right" style="    margin-right: 15px;">
        </span>
    </div>
</header>





<form class="form-horizontal" id="frmaccountLedger" role="form" style="margin-top:32px;">
    <div id="ErrorMessage" name="ErrorMessage" class="alert alert-danger" style="display: none"></div>
</form>
<section class="panel" style="margin-bottom:0px;">
    <div class="panel-body">
        <div class="form-horizontal " id="LRMaster" role="form" style="">
            <fieldset class=" col-sm-12" style="margin-top: 15px;">
                @if (Model.tfatDeliverySetup.Delivery_Both)
                {
                    <input type="checkbox" data-toggle="toggle" id="BothCHK" data-onstyle="info" data-offstyle="danger" data-on="Manual" data-off="Auto" style="width: 73px !important;height: 34px;">
                }
                else if (Model.tfatDeliverySetup.Delivery_Generate)
                {
                    <input type="checkbox" data-toggle="toggle" id="BothCHK" data-onstyle="info" data-offstyle="danger" data-on="Manual" data-off="Auto" style="width: 73px !important;height: 34px;" disabled>
                }
                else
                {
                    <input type="checkbox" data-toggle="toggle" id="BothCHK" data-onstyle="danger" data-offstyle="info" data-on="Auto" data-off="Manual" style="width: 73px !important;height: 34px;" disabled>
                }
                <div class="panel panel-default" style="height:470px;">
                    <div class="panel-body " style="padding-left: 0px !important;">
                        <div class="col-sm-9" id="LRDetails">
                            @Html.Partial("_ShowLRDeliveryDetails", Model)
                        </div>
                        <div class=" col-sm-3  " style="border: 3px solid #dec0c0;width: 23%;margin-left: 20px;height:465px;">
                            @*<div class="form-group" id="ChargeDiv" style="position:relative;">
                        <label class=" bold   col-sm-4  control-label">Delivery Status:</label>
                        <div class="vertical-radio-buttons">
                            <fieldset>
                                <form>
                                    <div>
                                        <span>
                                            <input type="radio" name="DeliveryStatus" value="OK" id="Good" style="width:20px!important;height:20px!important;" checked><label for="Good" style="padding-top:7px;margin-left:10px;margin-bottom: 0px!important;">OK</label>
                                        </span>
                                    </div>

                                    <div>
                                        <span>
                                            <input type="radio" name="DeliveryStatus" value="Package Damage" id="PCK" style="width:20px!important;height:20px!important;" required><label for="PCK" style="padding-top:7px;margin-left:10px;margin-bottom: 0px!important;">Package Damage</label>
                                        </span>
                                    </div>

                                    <div>
                                        <span>
                                            <input type="radio" name="DeliveryStatus" value="Material Damage" id="MaterialD" style="width:20px!important;height:20px!important;" required><label for="MaterialD" style="padding-top:7px;margin-left:10px;margin-bottom: 0px!important;">Material Damage</label>
                                        </span>
                                    </div>

                                    <div>
                                        <span>
                                            <input type="radio" name="DeliveryStatus" value="Short" id="Short" style="width:20px!important;height:20px!important;" required><label for="Short" style="padding-top:7px;margin-left:10px;margin-bottom: 0px!important;">Short</label>
                                        </span>
                                    </div>

                                </form>
                            </fieldset>
                        </div>
                        <label class=" bold   col-sm-4  control-label">Delivery Status:</label>
                        <div class="col-sm-5 ">
                            @Html.TextBoxFor(x => x.ShortQty, new { @class = "form-control", @style = "margin-left:-8px;margin-top:3px; ", @Value = Model.ShortQty, @disabled = "disabled" })
                        </div>
                    </div>*@
                            <div style="border: 2px solid #d3d3d3;height:90px;" id="AttachList">
                                @Html.Partial("_AttachmentList", Model)
                            </div>
                            <div class="form-group" style="position:absolute;bottom:0px;width: -webkit-fill-available;">
                                @*<label class=" bold col-sm-6 control-label" style="margin-left: 10px;">Total Amout :</label>*@
                                <div class=" col-sm-12">
                                    <button class="btn btn-danger">Receipt</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>




</section>
<footer class="footer-section" style="height:60px;position:fixed;background-color:#4B4A4A;padding:3px;color:white;">
    <div class="row">
        <div class="col-sm-5">
            <div class="pull-left">

                @*<button class="btn btn-danger" data-toggle="modal" data-target="#LockModal" style="font-size: 13px;padding:3px 12px;" id="btnBlock"><i class="glyphicon glyphicon-ban-circle" style="font-size: 2em;"></i><br />Lock</button>*@
                <button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="btnListPrint"><i class="glyphicon glyphicon-print" style="font-size: 2em;"></i><br />List Print</button>
                <button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="btnShare"><i class="glyphicon glyphicon-share" style="font-size: 2em;"></i><br />Share</button>
                <button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="btnDownload"><i class="glyphicon glyphicon-download" style="font-size: 2em;"></i><br />Download</button>
                @*<button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="btnAttachment" data-toggle="modal" data-target="#Attachmentmodal"><i class="glyphicon glyphicon-paperclip" style="font-size: 2em;"></i><br />Attachment</button>*@
                <button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="btnPrint"><i class="glyphicon glyphicon-print" style="font-size: 2em;"></i><br />Print</button>
                @*<button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="SaveDraft"><i class="glyphicon glyphicon-floppy-saved" style="font-size: 2em;"></i><br />Save Draft</button>*@
                <button class="btn btn-info" style="font-size: 13px;padding:3px 12px;" id="" data-toggle="modal" data-target="#Notemodal"><i class="glyphicon glyphicon-file" style="font-size: 2em;"></i><br />Save Note</button>
            </div>
        </div>
        <div class="col-sm-offset-1 col-sm-2" style="">
            <div class="pull-left">

            </div>
        </div>
        <div class="col-sm-4">
            <div class="pull-right">
                @if (Model.Mode == "Delete")
                {
                    <button class="btn btn-danger" style="font-size: 13px;padding:3px 12px;" id="btnDelete"><i class="glyphicon glyphicon-trash" style="font-size: 2em;"></i><br />Delete</button>

                }
                else
                {
                    <button class="btn btn-primary" style="font-size: 13px;padding:3px 12px;" id="Submit"><i class="glyphicon glyphicon-floppy-saved" style="font-size: 2em;"></i><br />Save</button>
                    <button class="btn btn-primary" style="font-size: 13px;padding:3px 12px;" id="SubmitClear"><i class="glyphicon glyphicon-floppy-saved" style="font-size: 2em;"></i>&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon-print" style="font-size: 2em;"></i><br />Save And Clear</button>
                }
                @*<button class="btn btn-primary" style="font-size: 13px;padding:3px 12px;" id="Edit" onclick="EditEntry();"><i class="glyphicon glyphicon-edit" style="font-size: 2em;"></i><br /> Edit</button>*@
                <a href="~/Logistics/Delivery/Index?ViewDataId=@Model.ViewDataId&Module=@Model.Module&TableName=@Model.TableName&OptionType=@Model.OptionType&OptionCode=@Model.OptionCode&Header=@Model.Header&Controller2=@Model.Controller2&MainType=@Model.MainType" class="btn btn-danger" style="font-size: 13px;padding:3px 12px;" id="Cancel"><i class="glyphicon glyphicon-remove" style="font-size: 2em;"></i><br />Cancel</a>
            </div>
        </div>
    </div>
</footer>


<!--All Destination Modal -->
<div class="modal fade" id="LRComboList" style="overflow:scroll;" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" @*style="margin-top: 60px;"*@>
    <div class="modal-dialog modal-lg modal-sm modal-xl" role="document" style="width: 100%;margin: auto;margin-top: 3%;">
        <div class="modal-content">
            <div class="modal-body">
                <div class="tab">
                    <button class="tablinks" onclick="openCity(event, 'divLedgerTable')" id="All">All</button>
                    <button class="tablinks" onclick="openCity(event, 'divLedgerTable1')">GoDown LR</button>
                    <button class="tablinks" onclick="openCity(event, 'divLedgerTable2')">Pick LR</button>
                    <button class="tablinks" onclick="openCity(event, 'divLedgerTable3')">Transit</button>
                    <button class="tablinks" onclick="openCity(event, 'divLedgerTable4')" style="width:160px!important;">Local Delivery Sheet</button>
                    @*<div style="display:flex;float:right;">
                        <div><label class=" bold control-label" style="margin-top: 5px;width: max-content;">Auto Retrive</label></div>
                        <div class="col-md-5"><input type="checkbox" id="AutoRetrive" style="height:20px;width:20px;" /></div>
                    </div>*@
                </div>
                <div id="divLedgerTable" style="height:480px;overflow: auto;" class="tabcontent">
                    @Html.Partial("G_D_T_A_LrList", Model.All)
                </div>
                <div id="divLedgerTable1" style="height:480px;overflow: auto;" class="tabcontent">
                    @Html.Partial("G_D_T_A_LrList", Model.Godown)
                </div>
                <div id="divLedgerTable2" style="height:480px;overflow: auto;" class="tabcontent">
                    @Html.Partial("G_D_T_A_LrList", Model.Pick)
                </div>
                <div id="divLedgerTable3" style="height:480px;overflow: auto;" class="tabcontent">
                    @Html.Partial("G_D_T_A_LrList", Model.Transit)
                </div>
                <div id="divLedgerTable4" style="height:480px;overflow: auto;" class="tabcontent">
                    @Html.Partial("G_D_T_A_LrList", Model.LDS)
                </div>
                <script>
                    function openCity(evt, cityName) {
                        
                        var i, tabcontent, tablinks;
                        tabcontent = document.getElementsByClassName("tabcontent");
                        for (i = 0; i < tabcontent.length; i++) {
                            
                            tabcontent[i].style.display = "none";
                        }
                        tablinks = document.getElementsByClassName("tablinks");
                        for (i = 0; i < tablinks.length; i++) {
                            
                            tablinks[i].className = tablinks[i].className.replace(" active", "");
                        }
                        document.getElementById(cityName).style.display = "block";
                        evt.currentTarget.className += " active";
                    }
                    document.getElementById("All").click();
                </script>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!--Attachment Modal -->
<div class="example-modal">
    <div id="Attachmentmodal" class="modal modal-default">
        <div class="modal-dialog " style="width:1080px;">
            <div id="AttachmentmodalDiv">
                <div class="modal-body">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color:#cccccc;padding-top:5px;">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>Attachment</b></h4>
                        </div>
                        <div class="modal-body">
                            <div class="grid" id="FormatTable" style="max-height:500px;min-height:500px; width:100%; overflow: scroll;">
                                <div id="" class="" style="width:100%;">
                                    <div class="form-group">
                                        <div class="col-sm-3" style="padding-top: 5px;">
                                            <label class="col-sm-12 control-label" style="font-weight:bold;color:black;">Upload File:</label>
                                        </div>
                                        <div class="col-sm-5">
                                            @Html.TextBoxFor(x => x.Attachment.UploadFile, new { @type = "file", @class = "form-control"@*, @style = "font-size:12pt;font-weight:bolder;"*@})
                                        </div>
                                        <div class="col-sm-4">

                                            <button class="btn btn-success" style="font-size: 13px;padding:3px 12px;" id="btnPhotoupload">Upload</button>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12" id="ShowAllFile">
                                        <hr />
                                        @Html.Partial("AttachmentView", Model)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="background-color:#cccccc;height:42px;padding-bottom:5px;padding-top:5px;border-radius: 0px 0px 5px 5px;">
                            <button class="btn btn-success" style="font-size: 13px;padding:3px 12px;" id="btnAttachSubmit" data-dismiss="modal">Save</button>
                            <button data-dismiss="modal" class="btn btn-danger" type="button">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--View Modal -->
<div class="example-modal">
    <div id="updTfatsearch1" class="modal modal-default">
        <div class="modal-dialog" style="width:1080px;">
            <div id="updTfatsearchDiv1">
                @*@Html.Partial("ImageView")*@
            </div>
        </div>
    </div>
</div>


@Html.HiddenFor(x => x.RecordKey, new { @id = "DeliverLrRecordKey" })
