@model TFATERPWebApplication.Areas.Logistics.Models.CustomerMasterVM
@using Common;

<script>
    $(document).ready(function () {

        $('#HoldEnquiryDt').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true,
        });

        $('#HoldInvoiceDt').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true,
        });

        $('#HoldDespatchDt').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true,
        });

        loadEmailTemplate()
        loadSMSTemplate()
        loadFreqOS()
        loadFreqForm()
    });

    function loadSMSTemplate() {
        event.preventDefault();
        var url = '@Url.Action("GetTemplate")';
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            data: {},
            success: function (result) {
                //alert(JSON.stringify(result));
                $.each(result, function (i, item) {
                    $("#SMSTemplate").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#SMSTemplate').val('@Model.SMSTemplate').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };

    function loadEmailTemplate() {
        event.preventDefault();
        var url = '@Url.Action("GetTemplate")';
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            success: function (result) {

                $.each(result, function (i, item) {
                    $("#EmailTemplate").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#EmailTemplate').val('@Model.EmailTemplate').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };

    function loadFreqOS() {
        event.preventDefault();
        var url = '@Url.Action("GetFrequencyOS")';
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            success: function (result) {

                $.each(result, function (i, item) {
                    $("#FreqOS").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#FreqOS').val('@Model.FreqOS').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };

    function loadFreqForm() {
        event.preventDefault();
        var url = '@Url.Action("GetFrequencyForm")';
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            success: function (result) {

                $.each(result, function (i, item) {
                    $("#FreqForm").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                });
                $('#FreqForm').val('@Model.FreqForm').attr("selected", "selected");
                $('.spinner').hide();
            },
            error: function (ex) {
                alert("Error occured while processing your request." + ex);
            }
        });
        return false;

    };
</script>
<div class="form-horizontal" id="ftrx" role="form" style="margin-top:15px; overflow-x:hidden;">
    <div class="row">
        <div class="col-sm-12" style="padding-left:6px;">
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="col-sm-3 control-label">Tickler:</label>
                    <div class="col-sm-8">
                        @Html.TextAreaFor(x => x.Ticklers, new { @class = "form-control", @Name = "Ticklers", @Id = "Ticklers", @style = "width: 98%; height: 105px;background-color: #fafafa;", @value = Model.Ticklers })
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Agreement:</label>
                    <div class="col-sm-6">
                        @Html.CheckBoxFor(x => x.HoldEnquiry, new { @id = "HoldEnquiry", @name = "HoldEnquiry", @value = Model.HoldEnquiry })
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Date:</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(x => x.StrHoldEnquiryDt, new { @type = "text", @class = "form-control", @id = "HoldEnquiryDt", @Name = "HoldEnquiryDt", @Value = Model.HoldEnquiryDt.ToString("dd-MM-yyyy") })
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Despatch:</label>
                    <div class="col-sm-6">
                        @Html.CheckBoxFor(x => x.HoldDespatch, new { @id = "HoldDespatch", @name = "HoldDespatch", @value = Model.HoldDespatch })
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Date:</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(x => x.StrHoldDespatchDt, new { @type = "text", @class = "form-control", @id = "HoldDespatchDt", @Name = "HoldDespatchDt", @Value = Model.HoldDespatchDt.ToString("dd-MM-yyyy") })
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Invoice:</label>
                    <div class="col-sm-6">
                        @Html.CheckBoxFor(x => x.HoldInvoice, new { @id = "HoldInvoice", @name = "HoldInvoice", @value = Model.HoldInvoice })
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Date:</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(x => x.StrHoldInvoiceDt, new { @type = "text", @class = "form-control", @id = "HoldInvoiceDt", @Name = "HoldInvoiceDt", @Value = Model.HoldInvoiceDt.ToString("dd-MM-yyyy") })
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Hold Remark:</label>
                    <div class="col-sm-8">
                        @Html.TextAreaFor(x => x.HoldNarr, new { @class = "form-control", @Name = "HoldNarr", @Id = "HoldNarr", @style = "width: 98%; height: 105px;background-color: #fafafa;", @value = Model.HoldNarr })
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="col-sm-6 control-label"><b>Transactions & FollowUp Alerts</b></label>
                </div>
                <div class="form-group">
                    <label class="col-sm-6 control-label">Send Docs by Email:</label>
                    @Html.CheckBoxFor(x => x.EmailParty, new { @id = "EmailParty", @name = "EmailParty", @value = Model.EmailParty })
                </div>
                <div class="form-group">
                    <label class="col-sm-6 control-label">Party Agrees to Receive Transaction SMS:</label>
                    @Html.CheckBoxFor(x => x.SMSParty, new { @id = "SMSParty", @name = "SMSParty", @value = Model.SMSParty })
                </div>
                <div class="form-group">
                    <label class="col-sm-12 control-label"><b>Note: You Should take consent from the Party for sending SMS</b></label>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label">Outstanding FollowUp:</label>
                    <div class="col-sm-2">Freq:</div>
                    <div class="col-sm-4">
                        @Html.DropDownListFor(m => m.FreqOS, DropdownHelper.EmptyList(), new { @class = "form-control", @Id = "FreqOS", @Name = "FreqOS" })
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label">Tax Form FollowUp:</label>
                    <div class="col-sm-2">Freq:</div>
                    <div class="col-sm-4">
                        @Html.DropDownListFor(m => m.FreqForm, DropdownHelper.EmptyList(), new { @class = "form-control", @Id = "FreqForm", @Name = "FreqForm" })
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-6 control-label">Send Reminder to Party by Email:</label>
                    @Html.CheckBoxFor(x => x.EmailPartyAlert, new { @id = "EmailPartyAlert", @name = "EmailPartyAlert", @value = Model.EmailPartyAlert })
                </div>
                <div class="form-group">
                    <label class="col-sm-6 control-label">Send Reminder to Salesman by Email:</label>
                    @Html.CheckBoxFor(x => x.EmailSalesman, new { @id = "EmailSalesman", @name = "EmailSalesman", @value = Model.EmailSalesman })
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label">Email Template:</label>
                    <div class="col-sm-6">
                        @Html.DropDownListFor(m => m.EmailTemplate, DropdownHelper.EmptyList(), new { @class = "form-control", @Id = "EmailTemplate", @Name = "EmailTemplate" })
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-6 control-label">Send Reminder to Party by SMS:</label>
                    @Html.CheckBoxFor(x => x.SMSPartyAlert, new { @id = "SMSPartyAlert", @name = "SMSPartyAlert", @value = Model.SMSPartyAlert })
                </div>
                <div class="form-group">
                    <label class="col-sm-6 control-label">Send Reminder to Salesman by SMS:</label>

                    @Html.CheckBoxFor(x => x.SMSSalesman, new { @id = "SMSSalesman", @name = "SMSSalesman", @value = Model.SMSSalesman })

                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label">SMS Template:</label>
                    <div class="col-sm-6">
                        @Html.DropDownListFor(m => m.SMSTemplate, DropdownHelper.EmptyList(), new { @class = "form-control", @Id = "SMSTemplate", @Name = "SMSTemplate" })
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
