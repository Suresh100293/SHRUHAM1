@model IEnumerable<TFATERPWebApplication.Areas.Logistics.Models.LCModal>
@{
    Layout = null;
}
<script src="@Url.Content("~/Content/js/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/js/jquery.constrain.js")" type="text/javascript"></script>

<style>
    td, th {
        padding: 4px !important;
    }

    .Ordertable {
        display: table;
    }

    .Ordertable-row {
        display: table-row;
        color: black;
    }

    .Ordertable-cell {
        display: table-cell;
        border: 1px solid black;
        padding: 5px;
        /*text-align: center;*/
    }


    .otherBranch {
        background-color: #d690aa;
    }

    .ClickrowColor {
        background-color: #71a1af !important;
        color: black;
    }

    /*.inputColor{
        color:black;
    }*/
    input[type=text] {
        color: black !important;
    }

    .span6 {
        display: none !important;
    }
</style>

<script type="text/javascript">

    $(document).ready(function () {
        $("#SaveLcCombo").DataTable();

        $('.gellrlistOfLc').click(function (event) {
            event.preventDefault();
            var url = '@Url.Action("ShowLrLIstOfLC")';
            var DTO = { Lcno: this.id };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    var LoadDownLoadFiles = $("#ShowLoadingLRList");
                    $("#ErrorMessage").hide();
                    $('.spinner').hide();
                    $('#GetLoadLRLIst').modal('show');
                    LoadDownLoadFiles.html('');
                    LoadDownLoadFiles.html(data.Html);
                },
            });
        });
        $(".SaveLcComboDeleteLC").click(function () {
            var LCno = this.id;
            $(this).closest('tr').remove();
            var url = '@Url.Action("DeleteExistingLC")';
            var DTO = { LCno: LCno };
            $.ajax({
                type: "POST",
                dataType: "json",
                data: JSON.stringify(DTO),
                cache: false,
                url: url,
                contentType: "application/json; charset=utf-8",
                beforeSend: function () {
                    $('.spinner').show();
                },
                success: function (data) {
                    $("#ErrorMessage").hide();
                    $('.spinner').hide();
                },
            });
        });

    });
</script>

@if (Model != null)
{
    <div class="container-fluid" style="margin-top:8px;padding-left:0px;">
        @*style="width:max-content;"*@
        <table id="SaveLcCombo" class="table-bordered example" style="width:100%!important;">
            <thead id="Head">
                <tr>
                    <th class="">Delete</th>
                    <th>LrList</th>
                    <th>LcNo</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Source</th>
                    <th>Destination</th>
                    <th>Total Quantity</th>
                    <th>Allow Quantity</th>
                    <th>Weight</th>
                </tr>
            </thead>
            <tbody>
                @*style="max-height:230px;min-height:230px;width:100%;overflow:scroll;"*@
                @foreach (var item in Model)
                {
                    <tr>
                        @if (item.EnableDeleteOrNot)
                        {
                            <td class="">
                                <center>
                                    <button class="btn btn-danger SaveLcComboDeleteLC" style="font-size: 13px;padding:3px 13px;" disabled id="@item.lcno"><i class="glyphicon glyphicon-trash" style="font-size: 1.2em;"></i></button>
                                </center>
                            </td>
                            @*<td class="" style="font-weight: bold;width:130px;"><center><input type="button" class="btn-danger SaveLcComboDeleteLC" id="@item.lcno" value="Delete" disabled /></center></td>*@
                        }
                        else
                        {
                            <td class="">
                                <center>
                                    <button class="btn btn-danger SaveLcComboDeleteLC" style="font-size: 13px;padding:3px 13px;" id="@item.lcno"><i class="glyphicon glyphicon-trash" style="font-size: 1.2em;"></i></button>
                                </center>
                            </td>
                            @*<td class="LoadingDeleteColumn" style="font-weight: bold;width:130px;"><center><input type="button" class="btn-danger SaveLcComboDeleteLC" id="@item.lcno" value="Delete" /></center></td>*@
                        }
                        <td><center><button class="btn btn-info gellrlistOfLc" style="font-size: 13px;padding:3px 12px;" id="@item.lcno"><i class="glyphicon glyphicon-eye-open"></i></button></center></td>
                        <td class=" SaveLcComboLC">@item.lcno</td>
                        <td>@item.Date</td>
                        <td>@item.Time</td>
                        <td>@item.From_Name</td>
                        <td>@item.To_Name</td>
                        <td class=" Qty">@item.TotalQty.ToString("0.00")</td>
                        <td class=" LoadQty">@item.LoadQty.ToString("0.00")</td>
                        <td class=" Weight">@item.Weight.ToString("0.00")</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

}


<!--Show Lr OF LC Modal -->
<div class="modal fade" id="GetLoadLRLIst" style="" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-sm modal-xl" role="document" style="width: fit-content;margin: auto;margin-top: 5%;">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#cccccc;padding-top:5px;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"><b>Pending Lorry Receipts</b></h4>


            </div>
            <div class="modal-body">
                <div class="grid" id="FormatTable" style="max-height:350px;min-height:350px; width:100%;">
                    <div id="" class="" style="width:100%;">
                        <div class="form-group col-sm-12" id="ShowLoadingLRList">

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
